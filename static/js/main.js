parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"jMoj":[function(require,module,exports) {
var e="#fabebe #ffd8b1 #fffac8 #aaffc3 #e6beff #ffffff #808080 #e6194b #f58231 #ffe119 #bcf60c #3cb44b #4363D8 #911eb4 #f032e6 #808080".split(" "),c={sound_icon:{hover:{rect4525:{d:"m 5.2683039,291.09663 c 0.2072621,-0.20725 0.5409829,-0.20725 0.7482373,0 l 2.2447171,2.24472 c 0.2072657,0.20727 0.2072606,0.54097 -1.4e-6,0.74824 -0.2072621,0.20725 -0.5409716,0.20727 -0.7482373,0 l -2.2447171,-2.24472 c -0.2072543,-0.20726 -0.2072607,-0.54097 1.4e-6,-0.74824 z"},rect4527:{d:"m 8.2421792,291.09659 c 0.2072621,0.20727 0.2072557,0.54098 1.4e-6,0.74824 l -2.2447171,2.24472 c -0.2072657,0.20727 -0.5409752,0.20725 -0.7482373,0 -0.207262,-0.20727 -0.2072671,-0.54097 -1.4e-6,-0.74824 l 2.2447171,-2.24472 c 0.2072544,-0.20725 0.5409752,-0.20725 0.7482373,0 z"}},on:{rect4525:{d:"m 7.5140723,290.1303 c 0.2628127,1e-5 0.474402,0.2116 0.4744017,0.47441 l -3.9e-6,4.09089 c -3e-7,0.26282 -0.211581,0.47439 -0.4744022,0.4744 -0.2628127,-1e-5 -0.474402,-0.21158 -0.4744017,-0.47441 l 3.9e-6,-4.09089 c 3e-7,-0.26281 0.211581,-0.47439 0.4744022,-0.4744 z"},rect4527:{d:"m 6.1133416,291.13855 c 0.2191871,0 0.3956408,0.17646 0.3956411,0.39564 l 3.3e-6,2.37385 c 3e-7,0.21919 -0.1764607,0.39564 -0.3956408,0.39564 -0.2191871,0 -0.3956408,-0.17645 -0.3956411,-0.39564 l -3.2e-6,-2.37385 c -3e-7,-0.21918 0.1764606,-0.39564 0.3956407,-0.39564 z"}},off:{rect4525:{d:"m 5.6433321,291.6021 c 0.1549875,-0.15498 0.4045368,-0.15498 0.5595205,0 l 1.6785654,1.67857 c 0.1549908,0.15499 0.1549864,0.40453 -1e-6,0.55952 -0.1549875,0.15498 -0.4045298,0.15499 -0.5595205,0 l -1.6785654,-1.67857 c -0.1549837,-0.15498 -0.1549864,-0.40453 1e-6,-0.55952 z"},rect4527:{d:"m 7.867151,291.60207 c 0.1549874,0.15499 0.1549847,0.40454 1e-6,0.55952 l -1.6785654,1.67857 c -0.1549907,0.15499 -0.404533,0.15498 -0.5595205,0 -0.1549874,-0.15499 -0.1549918,-0.40453 -1e-6,-0.55952 l 1.6785654,-1.67857 c 0.1549837,-0.15498 0.404533,-0.15498 0.5595205,0 z"}}},room_icon:{hover:{rect4975:{width:6.8,x:1.058},rect4979:{width:6.8,x:-295.94}},reset:{rect4975:{width:4.23,x:2.11},rect4979:{width:4.23,x:-294.6}}}};c.sound_icon.reset=c.sound_icon.off;var f=[[":\\(","sad"],[":\\)","happy"],[":\\){2,}","shappy"],["(?:XD|xd)","gibber"],["\\^\\^","gibber"],[":[Dd]","shappy"],[":[Pp]","crazy"],[":/","confused"],[";\\)","wink"]].map(function(e){return[new RegExp(" ".concat(e[0]),"g"),e[1]]});module.exports={ICONS_STATES:c,userColors:e,smileys:f};
},{}],"TnH5":[function(require,module,exports) {
"use strict";var t=require("./ui_styling.js");function r(t,r){return o(t)||e(t,r)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function e(t,r){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],e=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(e=(a=c.next()).done)&&(n.push(a.value),!r||n.length!==r);e=!0);}catch(l){o=!0,i=l}finally{try{e||null==c.return||c.return()}finally{if(o)throw i}}return n}}function o(t){if(Array.isArray(t))return t}function i(t){return l(t)||c(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var r=0,n=new Array(t.length);r<t.length;r++)n[r]=t[r];return n}}var u={img:function(t,r){return'<img class="thumbnail" onclick="thumbnailClicked(this)" style="max-height: 1em" src="'.concat(r,'"/>')},http:function(t,r){var n=r.split("/")[0];return'<a href="'.concat(t,"://").concat(r,'">(link to ').concat(n,")</a>")}};u.https=u.http;var f=":([a-z]{2,10}):(?:[(](.*)[)])?",s="(https?)://([^   \n]+)",y="(?:".concat(f,")|(?:").concat(s,")");function m(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var e=r.filter(function(t){return t}),o=u[e[1]];return o?o.apply(void 0,i(e.splice(1))):"(?)".concat(e[0],"(?)")}function h(n){n=n.replace(y,m);var e=!0,o=!1,i=void 0;try{for(var a,c=t.smileys[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var l=r(a.value,2),u=l[0],f=l[1];n=n.replace(u,'<img class="thumbnail emoticon" src="static/img/emoticons/'.concat(f,'.svg" />'))}}catch(s){o=!0,i=s}finally{try{e||null==c.return||c.return()}finally{if(o)throw i}}return n}function p(t){y=new RegExp(y+"|(?:(@".concat(t,")(.*))")),u["@".concat(t)]=function(t,r){return"<b>".concat(t," ").concat(r,"</b>")}}module.exports={renderCommands:h,init:p};
},{"./ui_styling.js":"jMoj"}],"50pF":[function(require,module,exports) {
"use strict";var e=require("./commands.js"),o={};function t(e,t){if(0!=e.size){o.rooms.innerHTML=Array.from(e).map(function(e){return'<div class="roomName" attr-room="'.concat(e,'" onclick="app.roomListClicked(this)">').concat(e,"</div>")}).join("");var n=r(t);n&&n.classList.add("selected")}else console.warn("No Rooms!")}function n(e,o,t){0!=o.size?document.getElementById("all_nicks").innerHTML=Array.from(o).map(function(o,n){return e===o?"":'<div style="color:'.concat(t[n],'" onclick="app.userListClicked(this)">').concat(o,"</div>")}).join(""):console.warn("No Users!")}function s(o,t){var n=document.getElementById("all_texts"),s=o?o.map(function(e){return'<div class="textLine"><span class="nick" style="color: '.concat(t(e[0]),'">').concat(e[0],'</span><span class="text">').concat(e[1],"</span></div>")}).map(e.renderCommands).join(""):"<h1>It's empty here!</h1>";n.innerHTML=s,n.scrollTop=n.scrollHeight}function c(e,o){r(e).classList.remove("selected"),r(o).classList.add("selected")}function r(e){return o.rooms.querySelector('div[attr-room="'.concat(e,'"]'))}function i(){o.rooms=document.getElementById("all_rooms"),o.input=document.getElementById("input_text"),o.input.focus()}module.exports={dom:o,init:i,drawUsers:n,drawRooms:t,drawMessages:s,selectRoom:c};
},{"./commands.js":"TnH5"}],"oQx8":[function(require,module,exports) {
function e(e){this._seed=e%2147483647,this._seed<=0&&(this._seed+=2147483646)}function t(t){function n(e){var t=Number(e);return t<65&&(t=65+t%62),t>90&&t<97&&(t=t-90+48),t>122&&(t=48+t%10),String.fromCharCode(t)}for(var r=new e(Number(t.split("").map(function(e){return e.charCodeAt(0)}).join(""))),o=new e(r.next()),i=[],s=0;s<30;s++)i.push(o.next());var h=i.join("");i.length=0;for(var u=0;u<h.length;){for(var a=0;h.slice(u,u+a)<123&&!(u+ ++a>=h.length););h.length==u+a?i.push(n(h.slice(u))):(a--,i.push(n(h.slice(u,u+a)))),u+=a}for(var c=i.join(""),l=c.length/2;c.charCodeAt(l)<60;)l++;return[c.slice(0,l),c.slice(l)]}e.prototype.next=function(){return this._seed=16807*this._seed%2147483647},e.prototype.nextFloat=function(e,t){return(this.next()-1)/2147483646};try{module.exports={makeRandomPair:t}}catch(n){}
},{}],"phBu":[function(require,module,exports) {
function t(t){t["data-max-height"]?(t.style["max-height"]=t["data-max-height"],t.style.position="relative",t["data-max-height"]=void 0,t.style["z-index"]="0"):(t.style["z-index"]="2",t["data-max-height"]=t.style["max-height"],t.style["max-height"]="",t.style.position="absolute",t.style.left="0",t.style.top="0")}function e(){var t=document.getElementById("all_texts");t.style["max-height"]="".concat(window.innerHeight-150,"px"),t.scrollTop=t.scrollHeight}module.exports={recalcLayout:e,thumbnailClicked:t};
},{}],"/PZ5":[function(require,module,exports) {
var r={init:function(t){r[t]=new Set},emit:function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var e=!0,l=!1,i=void 0;try{for(var c,v=r[t][Symbol.iterator]();!(e=(c=v.next()).done);e=!0){var y=c.value;try{y.apply(void 0,o)}catch(f){console.error("Emit ".concat(t,": ").concat(f))}}}catch(u){l=!0,i=u}finally{try{e||null==v.return||v.return()}finally{if(l)throw i}}},on:function(t,n){var o="string"==typeof t?[t]:t,a=!0,e=!1,l=void 0;try{for(var i,c=o[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var v=i.value;r[v].add(n)}}catch(y){e=!0,l=y}finally{try{a||null==c.return||c.return()}finally{if(e)throw l}}}};module.exports={globEvents:r};
},{}],"yHh2":[function(require,module,exports) {
var define;
var n;!function(e){var t,r,f="hasOwnProperty",i=/[\.\/]/,o=/\s*,\s*/,l=function(n,e){return n-e},u={n:{}},s=function(){for(var n=0,e=this.length;n<e;n++)if(void 0!==this[n])return this[n]},a=function(){for(var n=this.length;--n;)if(void 0!==this[n])return this[n]},p=Object.prototype.toString,c=String,h=Array.isArray||function(n){return n instanceof Array||"[object Array]"==p.call(n)},d=function(n,e){var f,i=r,o=Array.prototype.slice.call(arguments,2),u=d.listeners(n),p=0,c=[],h={},g=[],v=t;g.firstDefined=s,g.lastDefined=a,t=n,r=0;for(var y=0,x=u.length;y<x;y++)"zIndex"in u[y]&&(c.push(u[y].zIndex),u[y].zIndex<0&&(h[u[y].zIndex]=u[y]));for(c.sort(l);c[p]<0;)if(f=h[c[p++]],g.push(f.apply(e,o)),r)return r=i,g;for(y=0;y<x;y++)if("zIndex"in(f=u[y]))if(f.zIndex==c[p]){if(g.push(f.apply(e,o)),r)break;do{if((f=h[c[++p]])&&g.push(f.apply(e,o)),r)break}while(f)}else h[f.zIndex]=f;else if(g.push(f.apply(e,o)),r)break;return r=i,t=v,g};d._events=u,d.listeners=function(n){var e,t,r,f,o,l,s,a,p=h(n)?n:n.split(i),c=u,d=[c],g=[];for(f=0,o=p.length;f<o;f++){for(a=[],l=0,s=d.length;l<s;l++)for(t=[(c=d[l].n)[p[f]],c["*"]],r=2;r--;)(e=t[r])&&(a.push(e),g=g.concat(e.f||[]));d=a}return g},d.separator=function(n){n?(n="["+(n=c(n).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",i=new RegExp(n)):i=/[\.\/]/},d.on=function(n,e){if("function"!=typeof e)return function(){};for(var t=h(n)?h(n[0])?n:[n]:c(n).split(o),r=0,f=t.length;r<f;r++)!function(n){for(var t,r=h(n)?n:c(n).split(i),f=u,o=0,l=r.length;o<l;o++)f=(f=f.n).hasOwnProperty(r[o])&&f[r[o]]||(f[r[o]]={n:{}});for(f.f=f.f||[],o=0,l=f.f.length;o<l;o++)if(f.f[o]==e){t=!0;break}!t&&f.f.push(e)}(t[r]);return function(n){+n==+n&&(e.zIndex=+n)}},d.f=function(n){var e=[].slice.call(arguments,1);return function(){d.apply(null,[n,null].concat(e).concat([].slice.call(arguments,0)))}},d.stop=function(){r=1},d.nt=function(n){var e=h(t)?t.join("."):t;return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(e):e},d.nts=function(){return h(t)?t:t.split(i)},d.off=d.unbind=function(n,e){if(n){var t=h(n)?h(n[0])?n:[n]:c(n).split(o);if(t.length>1)for(var r=0,l=t.length;r<l;r++)d.off(t[r],e);else{t=h(n)?n:c(n).split(i);var s,a,p,g,v,y=[u],x=[];for(r=0,l=t.length;r<l;r++)for(g=0;g<y.length;g+=p.length-2){if(p=[g,1],s=y[g].n,"*"!=t[r])s[t[r]]&&(p.push(s[t[r]]),x.unshift({n:s,name:t[r]}));else for(a in s)s[f](a)&&(p.push(s[a]),x.unshift({n:s,name:a}));y.splice.apply(y,p)}for(r=0,l=y.length;r<l;r++)for(s=y[r];s.n;){if(e){if(s.f){for(g=0,v=s.f.length;g<v;g++)if(s.f[g]==e){s.f.splice(g,1);break}!s.f.length&&delete s.f}for(a in s.n)if(s.n[f](a)&&s.n[a].f){var b=s.n[a].f;for(g=0,v=b.length;g<v;g++)if(b[g]==e){b.splice(g,1);break}!b.length&&delete s.n[a].f}}else for(a in delete s.f,s.n)s.n[f](a)&&s.n[a].f&&delete s.n[a].f;s=s.n}n:for(r=0,l=x.length;r<l;r++){for(a in(s=x[r]).n[s.name].f)continue n;for(a in s.n[s.name].n)continue n;delete s.n[s.name]}}}else d._events=u={n:{}}},d.once=function(n,e){var t=function(){return d.off(n,t),e.apply(this,arguments)};return d.on(n,t)},d.version="0.5.4",d.toString=function(){return"You are running Eve 0.5.4"},e.eve=d,"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof n&&n.amd?n("eve",[],function(){return d}):e.eve=d}("undefined"!=typeof window?window:this);
},{}],"I/es":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e){var n,r,i="hasOwnProperty",a=/[\.\/]/,o=/\s*,\s*/,s=function(t,e){return t-e},u={n:{}},l=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},f=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},c=Object.prototype.toString,h=String,d=Array.isArray||function(t){return t instanceof Array||"[object Array]"==c.call(t)};eve=function(t,e){var i,a=r,o=Array.prototype.slice.call(arguments,2),u=eve.listeners(t),c=0,h=[],d={},p=[],g=n;p.firstDefined=l,p.lastDefined=f,n=t,r=0;for(var v=0,m=u.length;v<m;v++)"zIndex"in u[v]&&(h.push(u[v].zIndex),u[v].zIndex<0&&(d[u[v].zIndex]=u[v]));for(h.sort(s);h[c]<0;)if(i=d[h[c++]],p.push(i.apply(e,o)),r)return r=a,p;for(v=0;v<m;v++)if("zIndex"in(i=u[v]))if(i.zIndex==h[c]){if(p.push(i.apply(e,o)),r)break;do{if((i=d[h[++c]])&&p.push(i.apply(e,o)),r)break}while(i)}else d[i.zIndex]=i;else if(p.push(i.apply(e,o)),r)break;return r=a,n=g,p},eve._events=u,eve.listeners=function(t){var e,n,r,i,o,s,l,f,c=d(t)?t:t.split(a),h=u,p=[h],g=[];for(i=0,o=c.length;i<o;i++){for(f=[],s=0,l=p.length;s<l;s++)for(n=[(h=p[s].n)[c[i]],h["*"]],r=2;r--;)(e=n[r])&&(f.push(e),g=g.concat(e.f||[]));p=f}return g},eve.separator=function(t){t?(t="["+(t=h(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",a=new RegExp(t)):a=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=d(t)?d(t[0])?t:[t]:h(t).split(o),r=0,i=n.length;r<i;r++)!function(t){for(var n,r=d(t)?t:h(t).split(a),i=u,o=0,s=r.length;o<s;o++)i=(i=i.n).hasOwnProperty(r[o])&&i[r[o]]||(i[r[o]]={n:{}});for(i.f=i.f||[],o=0,s=i.f.length;o<s;o++)if(i.f[o]==e){n=!0;break}!n&&i.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){r=1},eve.nt=function(t){var e=d(n)?n.join("."):n;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return d(n)?n:n.split(a)},eve.off=eve.unbind=function(t,e){if(t){var n=d(t)?d(t[0])?t:[t]:h(t).split(o);if(n.length>1)for(var r=0,s=n.length;r<s;r++)eve.off(n[r],e);else{n=d(t)?t:h(t).split(a);var l,f,c,p,g,v=[u],m=[];for(r=0,s=n.length;r<s;r++)for(p=0;p<v.length;p+=c.length-2){if(c=[p,1],l=v[p].n,"*"!=n[r])l[n[r]]&&(c.push(l[n[r]]),m.unshift({n:l,name:n[r]}));else for(f in l)l[i](f)&&(c.push(l[f]),m.unshift({n:l,name:f}));v.splice.apply(v,c)}for(r=0,s=v.length;r<s;r++)for(l=v[r];l.n;){if(e){if(l.f){for(p=0,g=l.f.length;p<g;p++)if(l.f[p]==e){l.f.splice(p,1);break}!l.f.length&&delete l.f}for(f in l.n)if(l.n[i](f)&&l.n[f].f){var y=l.n[f].f;for(p=0,g=y.length;p<g;p++)if(y[p]==e){y.splice(p,1);break}!y.length&&delete l.n[f].f}}else for(f in delete l.f,l.n)l.n[i](f)&&l.n[f].f&&delete l.n[f].f;l=l.n}t:for(r=0,s=m.length;r<s;r++){for(f in(l=m[r]).n[l.name].f)continue t;for(f in l.n[l.name].n)continue t;delete l.n[l.name]}}}else eve._events=u={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof t&&t.amd?t("eve",[],function(){return eve}):e.eve=eve}(this),function(e,n){if("function"==typeof t&&t.amd)t(["eve"],function(t){return n(e,t)});else if("undefined"!=typeof exports){var r=require("eve");module.exports=n(e,r)}else n(e,e.eve)}(window||this,function(t,e){var n=function(e){var n,r={},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,16,(new Date).getTime()),!0},a=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,s="M"+(+new Date).toString(36),u=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},f=function(t){if(null==t)return this.spd;this.spd=t},c=function(t){var e=this;if(null==t)return e.dur;e.s=e.s*t/e.dur,e.dur=t},h=function(){var t=this;delete r[t.id],t.update(),e("mina.stop."+t.id,t)},d=function(){var t=this;t.pdif||(delete r[t.id],t.update(),t.pdif=t.get()-t.b)},p=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,r[t.id]=t,v())},g=function(){var t,e=this;if(a(e.start)){t=[];for(var n=0,r=e.start.length;n<r;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},v=function(t){if(t){var a=0;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],u=s.get();a++,s.s=(u-s.b)/(s.dur/s.spd),s.s>=1&&(delete r[o],s.s=1,a--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(s)),s.update()}n=!!a&&i(v)}else n||(n=i(v))},m=function(t,e,n,i,a,u,y){var x={id:s+(o++).toString(36),start:t,end:e,b:n,s:0,dur:i-n,spd:1,get:a,set:u,easing:y||m.linear,status:l,speed:f,duration:c,stop:h,pause:d,resume:p,update:g};r[x.id]=x;var b,F=0;for(b in r)if(r.hasOwnProperty(b)&&2==++F)break;return 1==F&&v(),x};return m.time=u,m.getById=function(t){return r[t]||null},m.linear=function(t){return t},m.easeout=function(t){return Math.pow(t,1.7)},m.easein=function(t){return Math.pow(t,.48)},m.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),r=n-e,i=-n-e,a=Math.pow(Math.abs(r),1/3)*(r<0?-1:1)+Math.pow(Math.abs(i),1/3)*(i<0?-1:1)+.5;return 3*(1-a)*a*a+a*a*a},m.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},m.backout=function(t){if(0==t)return 0;var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},m.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1},m.bounce=function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},t.mina=m,m}(void 0===e?function(){}:e),r=function(t){function n(t,e){if(t){if(t.nodeType)return H(t);if(T(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof I)return t;if(null==e)return H(t=r.doc.querySelector(String(t)))}return new $(t=null==t?"100%":t,e=null==e?"100%":e)}n.version="0.5.1",n.toString=function(){return"Snap v"+this.version},n._={};var r={win:t.window,doc:t.window.document};n._.glob=r;var i,a,o="hasOwnProperty",s=String,u=parseFloat,l=parseInt,f=Math,c=f.max,h=f.min,d=f.abs,p=(f.pow,f.PI),v=(f.round,""),m=Object.prototype.toString,y=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,x=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),b={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,C=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,w=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,B=0,A="S"+(+new Date).toString(36),E=function(t){return(t&&t.type?t.type:v)+A+(B++).toString(36)},S="http://www.w3.org/1999/xlink",k="http://www.w3.org/2000/svg",D={};n.url=function(t){return"url('#"+t+"')"};function _(t,e){if(e){if("#text"==t&&(t=r.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=r.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=_(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(S,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(k,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var n in e)if(e[o](n)){var i=s(e[n]);i?"xlink:"==n.substring(0,6)?t.setAttributeNS(S,n.substring(6),i):"xml:"==n.substring(0,4)?t.setAttributeNS(k,n.substring(4),i):t.setAttribute(n,i):t.removeAttribute(n)}}else"text"in e&&(t.nodeValue=e.text)}else t=r.doc.createElementNS(k,t);return t}function T(t,e){return"finite"==(e=s.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||m.call(t).slice(8,-1).toLowerCase()==e)}function M(t,e,n){return function r(){var i=Array.prototype.slice.call(arguments,0),a=i.join("␀"),s=r.cache=r.cache||{},u=r.count=r.count||[];return s[o](a)?(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(u,a),n?n(s[a]):s[a]):(u.length>=1e3&&delete s[u.shift()],u.push(a),s[a]=t.apply(e,i),n?n(s[a]):s[a])}}function N(t){return t%360*p/180}n._.$=_,n._.id=E,n.format=(i=/\{([^\}]+)\}/g,a=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return s(t).replace(i,function(t,n){return function(t,e,n){var r=n;return e.replace(a,function(t,e,n,i,a){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&a&&(r=r()))}),r=(null==r||r==n?t:r)+""}(t,n,e)})}),n._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var n=new e.constructor;for(var r in e)e[o](r)&&(n[r]=t(e[r]));return n},n._.cacher=M,n.rad=N,n.deg=function(t){return 180*t/p%360},n.sin=function(t){return f.sin(n.rad(t))},n.tan=function(t){return f.tan(n.rad(t))},n.cos=function(t){return f.cos(n.rad(t))},n.asin=function(t){return n.deg(f.asin(t))},n.acos=function(t){return n.deg(f.acos(t))},n.atan=function(t){return n.deg(f.atan(t))},n.atan2=function(t){return n.deg(f.atan2(t))},n.angle=function t(e,n,r,i,a,o){if(null==a){var s=e-r,u=n-i;return s||u?(180+180*f.atan2(-u,-s)/p+360)%360:0}return t(e,n,a,o)-t(r,i,a,o)},n.len=function(t,e,r,i){return Math.sqrt(n.len2(t,e,r,i))},n.len2=function(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)},n.closestPoint=function(t,e,n){function r(t){var r=t.x-e,i=t.y-n;return r*r+i*i}for(var i,a,o,s,u=t.node,l=u.getTotalLength(),f=l/u.pathSegList.numberOfItems*.125,c=1/0,h=0;h<=l;h+=f)(s=r(o=u.getPointAtLength(h)))<c&&(i=o,a=h,c=s);for(f*=.5;f>.5;){var d,p,g,v,m,y;(g=a-f)>=0&&(m=r(d=u.getPointAtLength(g)))<c?(i=d,a=g,c=m):(v=a+f)<=l&&(y=r(p=u.getPointAtLength(v)))<c?(i=p,a=v,c=y):f*=.5}return i={x:i.x,y:i.y,length:a,distance:Math.sqrt(c)}},n.is=T,n.snapTo=function(t,e,n){if(n=T(n,"finite")?n:10,T(t,"array")){for(var r=t.length;r--;)if(d(t[r]-e)<=n)return t[r]}else{var i=e%(t=+t);if(i<n)return e-i;if(i>t-n)return e-i+t}return e},n.getRGB=M(function(t){if(!t||(t=s(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:q};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:q};if(!b[o](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=j(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:q};var e,r,i,a,d,p,g=t.match(y);return g?(g[2]&&(i=l(g[2].substring(5),16),r=l(g[2].substring(3,5),16),e=l(g[2].substring(1,3),16)),g[3]&&(i=l((d=g[3].charAt(3))+d,16),r=l((d=g[3].charAt(2))+d,16),e=l((d=g[3].charAt(1))+d,16)),g[4]&&(p=g[4].split(x),e=u(p[0]),"%"==p[0].slice(-1)&&(e*=2.55),r=u(p[1]),"%"==p[1].slice(-1)&&(r*=2.55),i=u(p[2]),"%"==p[2].slice(-1)&&(i*=2.55),"rgba"==g[1].toLowerCase().slice(0,4)&&(a=u(p[3])),p[3]&&"%"==p[3].slice(-1)&&(a/=100)),g[5]?(p=g[5].split(x),e=u(p[0]),"%"==p[0].slice(-1)&&(e/=100),r=u(p[1]),"%"==p[1].slice(-1)&&(r/=100),i=u(p[2]),"%"==p[2].slice(-1)&&(i/=100),("deg"==p[0].slice(-3)||"°"==p[0].slice(-1))&&(e/=360),"hsba"==g[1].toLowerCase().slice(0,4)&&(a=u(p[3])),p[3]&&"%"==p[3].slice(-1)&&(a/=100),n.hsb2rgb(e,r,i,a)):g[6]?(p=g[6].split(x),e=u(p[0]),"%"==p[0].slice(-1)&&(e/=100),r=u(p[1]),"%"==p[1].slice(-1)&&(r/=100),i=u(p[2]),"%"==p[2].slice(-1)&&(i/=100),("deg"==p[0].slice(-3)||"°"==p[0].slice(-1))&&(e/=360),"hsla"==g[1].toLowerCase().slice(0,4)&&(a=u(p[3])),p[3]&&"%"==p[3].slice(-1)&&(a/=100),n.hsl2rgb(e,r,i,a)):(e=h(f.round(e),255),r=h(f.round(r),255),i=h(f.round(i),255),a=h(c(a,0),1),(g={r:e,g:r,b:i,toString:q}).hex="#"+(16777216|i|r<<8|e<<16).toString(16).slice(1),g.opacity=T(a,"finite")?a:1,g)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:q}},n),n.hsb=M(function(t,e,r){return n.hsb2rgb(t,e,r).hex}),n.hsl=M(function(t,e,r){return n.hsl2rgb(t,e,r).hex}),n.rgb=M(function(t,e,n,r){if(T(r,"finite")){var i=f.round;return"rgba("+[i(t),i(e),i(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var j=function(t){var e=r.doc.getElementsByTagName("head")[0]||r.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(j=M(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var i=r.doc.defaultView.getComputedStyle(e,v).getPropertyValue("color");return i==n?null:i}))(t)},P=function(){return"hsb("+[this.h,this.s,this.b]+")"},L=function(){return"hsl("+[this.h,this.s,this.l]+")"},q=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},O=function(t,e,r){if(null==e&&T(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&T(t,string)){var i=n.getRGB(t);t=i.r,e=i.g,r=i.b}return(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255),[t,e,r]},V=function(t,e,r,i){var a={r:t=f.round(255*t),g:e=f.round(255*e),b:r=f.round(255*r),opacity:T(i,"finite")?i:1,hex:n.rgb(t,e,r),toString:q};return T(i,"finite")&&(a.opacity=i),a};n.color=function(t){var e;return T(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):T(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(T(t,"string")&&(t=n.getRGB(t)),T(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=q,t},n.hsb2rgb=function(t,e,n,r){var i,a,o,s,u;return T(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),s=(u=n*e)*(1-d((t=(t*=360)%360/60)%2-1)),i=a=o=n-u,V(i+=[u,s,0,0,s,u][t=~~t],a+=[s,u,u,s,0,0][t],o+=[0,0,s,u,u,s][t],r)},n.hsl2rgb=function(t,e,n,r){var i,a,o,s,u;return T(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),s=(u=2*e*(n<.5?n:1-n))*(1-d((t=(t*=360)%360/60)%2-1)),i=a=o=n-u/2,V(i+=[u,s,0,0,s,u][t=~~t],a+=[s,u,u,s,0,0][t],o+=[0,0,s,u,u,s][t],r)},n.rgb2hsb=function(t,e,n){var r,i;return t=(n=O(t,e,n))[0],e=n[1],n=n[2],{h:((0==(i=(r=c(t,e,n))-h(t,e,n))?null:r==t?(e-n)/i:r==e?(n-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:P}},n.rgb2hsl=function(t,e,n){var r,i,a,o;return t=(n=O(t,e,n))[0],e=n[1],n=n[2],r=((i=c(t,e,n))+(a=h(t,e,n)))/2,{h:((0==(o=i-a)?null:i==t?(e-n)/o:i==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:r<.5?o/(2*r):o/(2-2*r),l:r,toString:L}},n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},i=[];return T(t,"array")&&T(t[0],"array")&&(i=n.path.clone(t)),i.length||s(t).replace(F,function(t,e,n){var a=[],o=e.toLowerCase();if(n.replace(w,function(t,e){e&&a.push(+e)}),"m"==o&&a.length>2&&(i.push([e].concat(a.splice(0,2))),o="l",e="m"==e?"l":"L"),"o"==o&&1==a.length&&i.push([e,a[0]]),"r"==o)i.push([e].concat(a));else for(;a.length>=r[o]&&(i.push([e].concat(a.splice(0,r[o]))),r[o]););}),i.toString=n.path.toString,e.arr=n.path.clone(i),i};var G=n.parseTransformString=function(t){if(!t)return null;var e=[];return T(t,"array")&&T(t[0],"array")&&(e=n.path.clone(t)),e.length||s(t).replace(C,function(t,n,r){var i=[];n.toLowerCase();r.replace(w,function(t,e){e&&i.push(+e)}),e.push([n].concat(i))}),e.toString=n.path.toString,e};n._.svgTransform2string=function(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==n?e.push(["m",1,0,f.tan(N(r[0])),1,0,0]):"skewY"==n?e.push(["m",1,f.tan(N(r[0])),0,1,0,0]):e.push([n.charAt(0)].concat(r)),t}),e},n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=function(t,e){var r=G(t),i=new n.Matrix;if(r)for(var a=0,o=r.length;a<o;a++){var u,l,f,c,h,d=r[a],p=d.length,g=s(d[0]).toLowerCase(),v=d[0]!=g,m=v?i.invert():0;"t"==g&&2==p?i.translate(d[1],0):"t"==g&&3==p?v?(u=m.x(0,0),l=m.y(0,0),f=m.x(d[1],d[2]),c=m.y(d[1],d[2]),i.translate(f-u,c-l)):i.translate(d[1],d[2]):"r"==g?2==p?(h=h||e,i.rotate(d[1],h.x+h.width/2,h.y+h.height/2)):4==p&&(v?(f=m.x(d[2],d[3]),c=m.y(d[2],d[3]),i.rotate(d[1],f,c)):i.rotate(d[1],d[2],d[3])):"s"==g?2==p||3==p?(h=h||e,i.scale(d[1],d[p-1],h.x+h.width/2,h.y+h.height/2)):4==p?v?(f=m.x(d[2],d[3]),c=m.y(d[2],d[3]),i.scale(d[1],d[1],f,c)):i.scale(d[1],d[1],d[2],d[3]):5==p&&(v?(f=m.x(d[3],d[4]),c=m.y(d[3],d[4]),i.scale(d[1],d[2],f,c)):i.scale(d[1],d[2],d[3],d[4])):"m"==g&&7==p&&i.add(d[1],d[2],d[3],d[4],d[5],d[6])}return i},n._unit2px=function(t,e,n){var r=z(t).node,i={},a=r.querySelector(".svg---mgr");a||(a=_("rect"),_(a,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),r.appendChild(a));function o(t){if(null==t)return v;if(t==+t)return t;_(a,{width:t});try{return a.getBBox().width}catch(e){return 0}}function s(t){if(null==t)return v;if(t==+t)return t;_(a,{height:t});try{return a.getBBox().height}catch(e){return 0}}function u(r,a){null==e?i[r]=a(t.attr(r)||0):r==e&&(i=a(null==n?t.attr(r)||0:n))}switch(t.type){case"rect":u("rx",o),u("ry",s);case"image":u("width",o),u("height",s);case"text":u("x",o),u("y",s);break;case"circle":u("cx",o),u("cy",s),u("r",o);break;case"ellipse":u("cx",o),u("cy",s),u("rx",o),u("ry",s);break;case"line":u("x1",o),u("x2",o),u("y1",s),u("y2",s);break;case"marker":u("refX",o),u("markerWidth",o),u("refY",s),u("markerHeight",s);break;case"radialGradient":u("fx",o),u("fy",s);break;case"tspan":u("dx",o),u("dy",s);break;default:u(e,o)}return r.removeChild(a),i};r.doc.contains||r.doc.compareDocumentPosition;function z(t){return t.node.ownerSVGElement&&H(t.node.ownerSVGElement)||n.select("svg")}function R(t){T(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[e].node);var i=r.childNodes;for(e=0;e<i.length;e++)this[n++]=H(i[e]);return this}function I(t){if(t.snap in D)return D[t.snap];var e;try{e=t.ownerSVGElement}catch(i){}this.node=t,e&&(this.paper=new $(e)),this.type=t.tagName||t.nodeName;var n=this.id=E(this);if(this.anims={},this._={transform:[]},t.snap=n,D[n]=this,"g"==this.type&&(this.add=R),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in $.prototype)$.prototype[o](r)&&(this[r]=$.prototype[r])}function U(t){this.node=t}function X(t,e){var n=_(t);return e.appendChild(n),H(n)}function $(t,e){var n,i,a,s=$.prototype;if(t&&t.tagName&&"svg"==t.tagName.toLowerCase()){if(t.snap in D)return D[t.snap];var u=t.ownerDocument;for(var l in n=new I(t),i=t.getElementsByTagName("desc")[0],a=t.getElementsByTagName("defs")[0],i||((i=_("desc")).appendChild(u.createTextNode("Created with Snap")),n.node.appendChild(i)),a||(a=_("defs"),n.node.appendChild(a)),n.defs=a,s)s[o](l)&&(n[l]=s[l]);n.paper=n.root=n}else _((n=X("svg",r.doc.body)).node,{height:e,version:1.1,width:t,xmlns:k});return n}function H(t){return t?t instanceof I||t instanceof U?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new $(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new $(t.contentDocument.getElementsByTagName("svg")[0]):new I(t):t}n._.getSomeDefs=function(t){var e=t.node.ownerSVGElement&&H(t.node.ownerSVGElement)||t.node.parentNode&&H(t.node.parentNode)||n.select("svg")||n(0,0),r=e.select("defs"),i=null!=r&&r.node;return i||(i=X("defs",e.node).node),i},n._.getSomeSVG=z,n.select=function(t){return t=s(t).replace(/([^\\]):/g,"$1\\:"),H(r.doc.querySelector(t))},n.selectAll=function(t){for(var e=r.doc.querySelectorAll(t),i=(n.set||Array)(),a=0;a<e.length;a++)i.push(H(e[a]));return i},setInterval(function(){for(var t in D)if(D[o](t)){var e=D[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete D[t]}},1e4),I.prototype.attr=function(t,n){var r=this.node;if(!t){if(1!=r.nodeType)return{text:r.nodeValue};for(var i=r.attributes,a={},s=0,u=i.length;s<u;s++)a[i[s].nodeName]=i[s].nodeValue;return a}if(T(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,this).firstDefined();var l={};l[t]=n,t=l}for(var f in t)t[o](f)&&e("snap.util.attr."+f,this,t[f]);return this},n.parse=function(t){var e=r.doc.createDocumentFragment(),n=!0,i=r.doc.createElement("div");if((t=s(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),i.innerHTML=t,t=i.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new U(e)},n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=r.doc.createDocumentFragment(),i=0,a=t.length;i<a;i++){var o=t[i];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(n.parse(o).node)}return new U(e)},n._.make=X,n._.wrap=H,$.prototype.el=function(t,e){var n=X(t,this.node);return e&&n.attr(e),n},I.prototype.children=function(){for(var t=[],e=this.node.childNodes,r=0,i=e.length;r<i;r++)t[r]=n(e[r]);return t},I.prototype.toJSON=function(){var t=[];return function t(e,n){for(var r=0,i=e.length;r<i;r++){var a={type:e[r].type,attr:e[r].attr()},o=e[r].children();n.push(a),o.length&&t(o,a.childNodes=[])}}([this],t),t[0]},e.on("snap.util.getattr",function(){var t=e.nt(),n=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return Y[o](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):_(this.node,t)});var Y={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var n=e.nt(),r={};r[n=n.substring(n.lastIndexOf(".")+1)]=t;var i=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),a=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});Y[o](a)?this.node.style[i]=null==t?v:t:_(this.node,r)}),$.prototype,n.ajax=function(t,n,r,i){var a=new XMLHttpRequest,o=E();if(a){if(T(n,"function"))i=r,r=n,n=null;else if(T(n,"object")){var s=[];for(var u in n)n.hasOwnProperty(u)&&s.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));n=s.join("&")}return a.open(n?"POST":"GET",t,!0),n&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(e.once("snap.ajax."+o+".0",r),e.once("snap.ajax."+o+".200",r),e.once("snap.ajax."+o+".304",r)),a.onreadystatechange=function(){4==a.readyState&&e("snap.ajax."+o+"."+a.status,i,a)},4==a.readyState?a:(a.send(n),a)}},n.load=function(t,e,r){n.ajax(t,function(t){var i=n.parse(t.responseText);r?e.call(r,i):e(i)})};return n.getElementByPoint=function(t,e){this.canvas;var n,i,a,o,s,u,l,f=r.doc.elementFromPoint(t,e);if(r.win.opera&&"svg"==f.tagName){var c=(i=(n=f).getBoundingClientRect(),a=n.ownerDocument,o=a.body,s=a.documentElement,u=s.clientTop||o.clientTop||0,l=s.clientLeft||o.clientLeft||0,{y:i.top+(g.win.pageYOffset||s.scrollTop||o.scrollTop)-u,x:i.left+(g.win.pageXOffset||s.scrollLeft||o.scrollLeft)-l}),h=f.createSVGRect();h.x=t-c.x,h.y=e-c.y,h.width=h.height=1;var d=f.getIntersectionList(h,null);d.length&&(f=d[d.length-1])}return f?H(f):null},n.plugin=function(t){t(n,I,$,r,U)},r.win.Snap=n,n}(t||this);return r.plugin(function(n,r,i,a,o){var s=r.prototype,u=n.is,l=String,f=n._unit2px,c=n._.$,h=n._.make,d=n._.getSomeDefs,p=n._.wrap;s.getBBox=function(t){if("tspan"==this.type)return n._.box(this.node.getClientRects().item(0));if(!n.Matrix||!n.path)return this.node.getBBox();var e=this,r=new n.Matrix;if(e.removed)return n._.box();for(;"use"==e.type;)if(t||(r=r.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var i=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var a=e._,o=n.path.get[e.type]||n.path.get.deflt;try{return t?(a.bboxwt=o?n.path.getBBox(e.realPath=o(e)):n._.box(e.node.getBBox()),n._.box(a.bboxwt)):(e.realPath=o(e),e.matrix=e.transform().localMatrix,a.bbox=n.path.getBBox(n.path.map(e.realPath,r.add(e.matrix))),n._.box(a.bbox))}catch(s){return n._.box()}};var g=function(){return this.string};function v(t,e){if(null==e){var r=!0;if(!(e="linearGradient"==t.type||"radialGradient"==t.type?t.node.getAttribute("gradientTransform"):"pattern"==t.type?t.node.getAttribute("patternTransform"):t.node.getAttribute("transform")))return new n.Matrix;e=n._.svgTransform2string(e)}else e=n._.rgTransform.test(e)?l(e).replace(/\.{3}|\u2026/g,t._.transform||""):n._.svgTransform2string(e),u(e,"array")&&(e=n.path?n.path.toString.call(e):l(e)),t._.transform=e;var i=n._.transform2matrix(e,t.getBBox(1));if(r)return i;t.matrix=i}s.transform=function(t){var e=this._;if(null==t){for(var r,i=this,a=new n.Matrix(this.node.getCTM()),o=v(this),s=[o],u=new n.Matrix,f=o.toTransformString(),h=l(o)==l(this.matrix)?l(e.transform):f;"svg"!=i.type&&(i=i.parent());)s.push(v(i));for(r=s.length;r--;)u.add(s[r]);return{string:h,globalMatrix:a,totalMatrix:u,localMatrix:o,diffMatrix:a.clone().add(o.invert()),global:a.toTransformString(),total:u.toTransformString(),local:f,toString:g}}return t instanceof n.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):v(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?c(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?c(this.node,{patternTransform:this.matrix}):c(this.node,{transform:this.matrix})),this},s.parent=function(){return p(this.node.parentNode)},s.append=s.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=p(t),this.node.appendChild(t.node),t.paper=this.paper}return this},s.appendTo=function(t){return t&&(t=p(t)).append(this),this},s.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach(function(t){e?e.after(t):n.prepend(t),e=t}),this}var r=(t=p(t)).parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},s.prependTo=function(t){return(t=p(t)).prepend(this),this},s.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}var n=(t=p(t)).parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},s.after=function(t){var e=(t=p(t)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},s.insertBefore=function(t){t=p(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},s.insertAfter=function(t){t=p(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},s.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},s.select=function(t){return p(this.node.querySelector(t))},s.selectAll=function(t){for(var e=this.node.querySelectorAll(t),r=(n.set||Array)(),i=0;i<e.length;i++)r.push(p(e[i]));return r},s.asPX=function(t,e){return null==e&&(e=this.attr(t)),+f(this,t,e)},s.use=function(){var t,e=this.node.id;return e||(e=this.id,c(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?h(this.type,this.node.parentNode):h("use",this.node.parentNode),c(t.node,{"xlink:href":"#"+e}),t.original=this,t},s.clone=function(){var t=p(this.node.cloneNode(!0));return c(t.node,"id")&&c(t.node,{id:t.id}),function(t){var e,r=t.selectAll("*"),i=/^\s*url\(("|'|)(.*)\1\)\s*$/,a=[],o={};function s(t,e){var r=c(t.node,e);(r=(r=r&&r.match(i))&&r[2])&&"#"==r.charAt()&&(r=r.substring(1))&&(o[r]=(o[r]||[]).concat(function(r){var i={};i[e]=n.url(r),c(t.node,i)}))}function u(t){var e=c(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1))&&(o[e]=(o[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)}))}for(var l=0,f=r.length;l<f;l++){s(e=r[l],"fill"),s(e,"stroke"),s(e,"filter"),s(e,"mask"),s(e,"clip-path"),u(e);var h=c(e.node,"id");h&&(c(e.node,{id:e.id}),a.push({old:h,id:e.id}))}for(l=0,f=a.length;l<f;l++){var d=o[a[l].old];if(d)for(var p=0,g=d.length;p<g;p++)d[p](a[l].id)}}(t),t.insertAfter(this),t},s.toDefs=function(){return d(this).appendChild(this.node),this},s.pattern=s.toPattern=function(t,e,n,r){var i=h("pattern",d(this));return null==t&&(t=this.getBBox()),u(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,t=t.x),c(i.node,{x:t,y:e,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[t,e,n,r].join(" ")}),i.node.appendChild(this.node),i},s.marker=function(t,e,n,r,i,a){var o=h("marker",d(this));return null==t&&(t=this.getBBox()),u(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,i=t.refX||t.cx,a=t.refY||t.cy,t=t.x),c(o.node,{viewBox:[t,e,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:a||0,id:o.id}),o.node.appendChild(this.node),o};var m={};function y(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(t)for(var i=0,a=n.length;i<a;i++)e+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(e+=">"),i=0,a=r.length;i<a;i++)3==r[i].nodeType?e+=r[i].nodeValue:1==r[i].nodeType&&(e+=p(r[i]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}s.data=function(t,r){var i=m[this.id]=m[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(n.is(t,"object")){for(var a in t)t.hasOwnProperty(a)&&this.data(a,t[a]);return this}return e("snap.data.get."+this.id,this,i[t],t),i[t]}return i[t]=r,e("snap.data.set."+this.id,this,r,t),this},s.removeData=function(t){return null==t?m[this.id]={}:m[this.id]&&delete m[this.id][t],this},s.outerSVG=s.toString=y(1),s.innerSVG=y(),s.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),r=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r)))}},o.prototype.select=s.select,o.prototype.selectAll=s.selectAll}),r.plugin(function(t,r,i,a,o){var s=r.prototype,u=t.is,l=String,f="hasOwnProperty";function c(t,e,n){return function(r){var i=r.slice(t,e);return 1==i.length&&(i=i[0]),n?n(i):i}}var h=function(t,e,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=t,this.dur=e,r&&(this.easing=r),i&&(this.callback=i)};t._.Animation=h,t.animation=function(t,e,n,r){return new h(t,e,n,r)},s.inAnim=function(){var t=[];for(var e in this.anims)this.anims[f](e)&&function(e){t.push({anim:new h(e._attrs,e.dur,e.easing,e._callback),mina:e,curStatus:e.status(),status:function(t){return e.status(t)},stop:function(){e.stop()}})}(this.anims[e]);return t},t.animate=function(t,r,i,a,o,s){"function"!=typeof o||o.length||(s=o,o=n.linear);var u=n.time(),l=n(t,r,u,u+a,n.time,i,o);return s&&e.once("mina.finish."+l.id,s),l},s.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;e<n;e++)t[e].stop();return this},s.animate=function(t,r,i,a){"function"!=typeof i||i.length||(a=i,i=n.linear),t instanceof h&&(a=t.callback,i=t.easing,r=t.dur,t=t.attr);var o,s,d,p,g=[],v=[],m={},y=this;for(var x in t)if(t[f](x)){y.equal?(o=(p=y.equal(x,l(t[x]))).from,s=p.to,d=p.f):(o=+y.attr(x),s=+t[x]);var b=u(o,"array")?o.length:1;m[x]=c(g.length,g.length+b,d),g=g.concat(o),v=v.concat(s)}var F=n.time(),C=n(g,v,F,F+r,n.time,function(t){var e={};for(var n in m)m[f](n)&&(e[n]=m[n](t));y.attr(e)},i);return y.anims[C.id]=C,C._attrs=t,C._callback=a,e("snap.animcreated."+y.id,C),e.once("mina.finish."+C.id,function(){e.off("mina.*."+C.id),delete y.anims[C.id],a&&a.call(y)}),e.once("mina.stop."+C.id,function(){e.off("mina.*."+C.id),delete y.anims[C.id]}),y}}),r.plugin(function(t,e,n,r,i){var a=Object.prototype.toString,o=String,s=Math;function u(t,e,n,r,i,o){if(null==e&&"[object SVGMatrix]"==a.call(t))return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f);null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}!function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=s.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,i,a){if(t&&t instanceof u)return this.add(t.a,t.b,t.c,t.d,t.e,t.f);var o=t*this.a+e*this.c,s=t*this.b+e*this.d;return this.e+=i*this.a+a*this.c,this.f+=i*this.b+a*this.d,this.c=n*this.a+r*this.c,this.d=n*this.b+r*this.d,this.a=o,this.b=s,this},u.prototype.multLeft=function(t,e,n,r,i,a){if(t&&t instanceof u)return this.multLeft(t.a,t.b,t.c,t.d,t.e,t.f);var o=t*this.a+n*this.b,s=t*this.c+n*this.d,l=t*this.e+n*this.f+i;return this.b=e*this.a+r*this.b,this.d=e*this.c+r*this.d,this.f=e*this.e+r*this.f+a,this.a=o,this.c=s,this.e=l,this},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new u(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){return this.e+=t*this.a+e*this.c,this.f+=t*this.b+e*this.d,this},e.scale=function(t,e,n,r){return null==e&&(e=t),(n||r)&&this.translate(n,r),this.a*=t,this.b*=t,this.c*=e,this.d*=e,(n||r)&&this.translate(-n,-r),this},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var i=+s.cos(e).toFixed(9),a=+s.sin(e).toFixed(9);return this.add(i,a,-a,i,n,r),this.add(1,0,0,1,-n,-r)},e.skewX=function(t){return this.skew(t,0)},e.skewY=function(t){return this.skew(0,t)},e.skew=function(e,n){e=e||0,n=n||0,e=t.rad(e),n=t.rad(n);var r=s.tan(e).toFixed(9),i=s.tan(n).toFixed(9);return this.add(1,i,r,1,0,0)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[o.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.determinant=function(){return this.a*this.d-this.b*this.c},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.b],[this.c,this.d]];e.scalex=s.sqrt(n(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=s.sqrt(n(i[1])),r(i[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var a=i[0][1],o=i[1][1];return o<0?(e.rotate=t.deg(s.acos(o)),a<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(s.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:"")+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:""))}}(u.prototype),t.Matrix=u,t.matrix=function(t,e,n,r,i,a){return new u(t,e,n,r,i,a)}}),r.plugin(function(t,n,r,i,a){var o,s=t._.make,u=t._.wrap,l=t.is,f=t._.getSomeDefs,c=/^url\((['"]?)([^)]+)\1\)$/,h=t._.$,d=t.url,p=String,g=t._.separator,v="";function m(r){return function(i){if(e.stop(),i instanceof a&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,f(this).appendChild(i),i=u(i)),i instanceof n)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||h(i.node,{id:i.id});var o=d(i.node.id)}else o=i.attr(r);else if((o=t.color(i)).error){var s=t(f(this).ownerSVGElement).gradient(i);s?(s.node.id||h(s.node,{id:s.id}),o=d(s.node.id)):o=i}else o=p(o);var l={};l[r]=o,h(this.node,l),this.node.style[r]=v}}t.deurl=function(t){var e=String(t).match(c);return e?e[2]:t},e.on("snap.util.attr.mask",function(t){if(t instanceof n||t instanceof a){if(e.stop(),t instanceof a&&1==t.node.childNodes.length&&(t=t.node.firstChild,f(this).appendChild(t),t=u(t)),"mask"==t.type)var r=t;else(r=s("mask",f(this))).node.appendChild(t.node);!r.node.id&&h(r.node,{id:r.id}),h(this.node,{mask:d(r.id)})}}),o=function(t){if(t instanceof n||t instanceof a){e.stop();for(var r,i=t.node;i;){if("clipPath"===i.nodeName){r=new n(i);break}if("svg"===i.nodeName){r=void 0;break}i=i.parentNode}r||((r=s("clipPath",f(this))).node.appendChild(t.node),!r.node.id&&h(r.node,{id:r.id})),h(this.node,{"clip-path":d(r.node.id||r.id)})}},e.on("snap.util.attr.clip",o),e.on("snap.util.attr.clip-path",o),e.on("snap.util.attr.clipPath",o),e.on("snap.util.attr.fill",m("fill")),e.on("snap.util.attr.stroke",m("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function x(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function b(){return e.stop(),this.node.style.fontSize}e.on("snap.util.grad.parse",function(t){var e=(t=p(t)).match(y);if(!e)return null;var n=e[1],r=e[2],i=e[3];1==(r=r.split(/\s*,\s*/).map(function(t){return+t==t?+t:t})).length&&0==r[0]&&(r=[]);var a=(i=(i=i.split("-")).map(function(t){var e={color:(t=t.split(":"))[0]};return t[1]&&(e.offset=parseFloat(t[1])),e})).length,o=0,s=0;function u(t,e){for(var n=(e-o)/(t-s),r=s;r<t;r++)i[r].offset=+(+o+n*(r-s)).toFixed(2);s=t,o=e}a--;for(var l=0;l<a;l++)"offset"in i[l]&&u(l,i[l].offset);return i[a].offset=i[a].offset||100,u(a,i[a].offset),{type:n,params:r,stops:i}}),e.on("snap.util.attr.d",function(n){e.stop(),l(n,"array")&&l(n[0],"array")&&(n=t.path.toString.call(n)),(n=p(n)).match(/[ruo]/i)&&(n=t.path.toAbsolute(n)),h(this.node,{d:n})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=p(t);for(var n=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var n;n=l(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):l(t,"array")?t.join(" "):t,h(this.node,{viewBox:n}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),h(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var r,i,a;if(!t&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(l(t,"string")){var o=f(this),s=u(o.parentNode).path(t);o.appendChild(s.node),r=s.id,s.attr({id:r})}else(t=u(t))instanceof n&&((r=t.attr("id"))||(r=t.id,t.attr({id:r})));if(r)if(i=this.textPath,a=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=h("textPath",{"xlink:href":"#"+r});a.firstChild;)i.appendChild(a.firstChild);a.appendChild(i),this.textPath=u(i)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,r=function(t){var e=h("tspan");if(l(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(r(t[n]));else e.appendChild(i.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var a=r(t);a.firstChild;)n.appendChild(a.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",x)(-1),e.on("snap.util.attr.font-size",x)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function n(n){return function(){e.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:t(i.doc.getElementById(r.match(c)[1]))}}function r(t){return function(n){e.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""!=n&&n){if("marker"==n.type){var i=n.node.id;return i||h(n.node,{id:n.id}),void(this.node.style[r]=d(i))}}else this.node.style[r]="none"}}e.on("snap.util.getattr.marker-end",n("end"))(-1),e.on("snap.util.getattr.markerEnd",n("end"))(-1),e.on("snap.util.getattr.marker-start",n("start"))(-1),e.on("snap.util.getattr.markerStart",n("start"))(-1),e.on("snap.util.getattr.marker-mid",n("mid"))(-1),e.on("snap.util.getattr.markerMid",n("mid"))(-1),e.on("snap.util.attr.marker-end",r("end"))(-1),e.on("snap.util.attr.markerEnd",r("end"))(-1),e.on("snap.util.attr.marker-start",r("start"))(-1),e.on("snap.util.attr.markerStart",r("start"))(-1),e.on("snap.util.attr.marker-mid",r("mid"))(-1),e.on("snap.util.attr.markerMid",r("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){if("rect"==this.type&&h(this.node,"rx")==h(this.node,"ry"))return e.stop(),h(this.node,"rx")})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=function t(e){for(var n=[],r=e.childNodes,i=0,a=r.length;i<a;i++){var o=r[i];3==o.nodeType&&n.push(o.nodeValue),"tspan"==o.tagName&&(1==o.childNodes.length&&3==o.firstChild.nodeType?n.push(o.firstChild.nodeValue):n.push(t(o)))}return n}(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.fill",function(n){if(!n){e.stop();var r=e("snap.util.getattr.fill",this,!0).firstDefined();return t(t.deurl(r))||r}})(-1),e.on("snap.util.getattr.stroke",function(n){if(!n){e.stop();var r=e("snap.util.getattr.stroke",this,!0).firstDefined();return t(t.deurl(r))||r}})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var n=h(this.node,"viewBox");return n?(n=n.split(g),t._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=h(this.node,"points");return e.stop(),t?t.split(g):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=h(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",b)(-1),e.on("snap.util.getattr.font-size",b)(-1)}),r.plugin(function(t,e,n,r,i){var a=/\S+/g,o=String,s=e.prototype;s.addClass=function(t){var e,n,r,i=o(t||"").match(a)||[],s=this.node,u=s.className.baseVal,l=u.match(a)||[];if(i.length){for(e=0;n=i[e++];)~l.indexOf(n)||l.push(n);u!=(r=l.join(" "))&&(s.className.baseVal=r)}return this},s.removeClass=function(t){var e,n,r,i,s=o(t||"").match(a)||[],u=this.node,l=u.className.baseVal,f=l.match(a)||[];if(f.length){for(e=0;r=s[e++];)~(n=f.indexOf(r))&&f.splice(n,1);l!=(i=f.join(" "))&&(u.className.baseVal=i)}return this},s.hasClass=function(t){return!!~(this.node.className.baseVal.match(a)||[]).indexOf(t)},s.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,r,i,o,s=(t||"").match(a)||[],u=this.node,l=u.className.baseVal,f=l.match(a)||[];for(n=0;i=s[n++];)~(r=f.indexOf(i))?f.splice(r,1):f.push(i);return l!=(o=f.join(" "))&&(u.className.baseVal=o),this}}),r.plugin(function(t,n,r,i,a){var o={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},s=String,u=/[a-z]+$/i,l=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function f(t){return t}function c(t){return function(e){return+e.toFixed(3)+t}}e.on("snap.util.attr",function(t){var n=s(t).match(l);if(n){var r=e.nt(),i=r.substring(r.lastIndexOf(".")+1),a=this.attr(i),f={};e.stop();var c=n[3]||"",h=a.match(u),d=o[n[1]];if(h&&h==c?t=d(parseFloat(a),+n[2]):(a=this.asPX(i),t=d(this.asPX(i),this.asPX(i,n[2]+c))),isNaN(a)||isNaN(t))return;f[i]=t,this.attr(f)}})(-10),e.on("snap.util.equal",function(t,n){var r=s(this.attr(t)||""),i=s(n).match(l);if(i){e.stop();var a=i[3]||"",h=r.match(u),d=o[i[1]];return h&&h==a?{from:parseFloat(r),to:d(parseFloat(r),+i[2]),f:c(h)}:{from:r=this.asPX(t),to:d(r,this.asPX(t,i[2]+a)),f:f}}})(-10)}),r.plugin(function(n,r,i,a,o){var s=i.prototype,u=n.is;s.rect=function(t,e,n,r,i,a){var o;return null==a&&(a=i),u(t,"object")&&"[object Object]"==t?o=t:null!=t&&(o={x:t,y:e,width:n,height:r},null!=i&&(o.rx=i,o.ry=a)),this.el("rect",o)},s.circle=function(t,e,n){var r;return u(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,r:n}),this.el("circle",r)};var l=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=a.doc.createElement("img"),i=a.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=t,i.appendChild(r),r.src=e}}();s.image=function(t,e,r,i,a){var o=this.el("image");if(u(t,"object")&&"src"in t)o.attr(t);else if(null!=t){var s={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=r&&(s.x=e,s.y=r),null!=i&&null!=a?(s.width=i,s.height=a):l(t,function(){n._.$(o.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(o.node,s)}return o},s.ellipse=function(t,e,n,r){var i;return u(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,rx:n,ry:r}),this.el("ellipse",i)},s.path=function(t){var e;return u(t,"object")&&!u(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},s.group=s.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.svg=function(t,e,n,r,i,a,o,s){var l={};return u(t,"object")&&null==e?l=t:(null!=t&&(l.x=t),null!=e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),null!=i&&null!=a&&null!=o&&null!=s&&(l.viewBox=[i,a,o,s])),this.el("svg",l)},s.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.ptrn=function(t,e,n,r,i,a,o,s){if(u(t,"object"))var l=t;else l={patternUnits:"userSpaceOnUse"},t&&(l.x=t),e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),l.viewBox=null!=i&&null!=a&&null!=o&&null!=s?[i,a,o,s]:[t||0,e||0,n||0,r||0];return this.el("pattern",l)},s.use=function(t){return null!=t?(t instanceof r&&(t.attr("id")||t.attr({id:n._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):r.prototype.use.call(this)},s.symbol=function(t,e,n,r){var i={};return null!=t&&null!=e&&null!=n&&null!=r&&(i.viewBox=[t,e,n,r]),this.el("symbol",i)},s.text=function(t,e,n){var r={};return u(t,"object")?r=t:null!=t&&(r={x:t,y:e,text:n||""}),this.el("text",r)},s.line=function(t,e,n,r){var i={};return u(t,"object")?i=t:null!=t&&(i={x1:t,x2:n,y1:e,y2:r}),this.el("line",i)},s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return u(t,"object")&&!u(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return u(t,"object")&&!u(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){var r=n._.$;function i(){return this.selectAll("stop")}function a(t,e){var i=r("stop"),a={offset:+e+"%"};t=n.color(t),a["stop-color"]=t.hex,t.opacity<1&&(a["stop-opacity"]=t.opacity),r(i,a);for(var o,s=this.stops(),u=0;u<s.length;u++){if(parseFloat(s[u].attr("offset"))>e){this.node.insertBefore(i,s[u].node),o=!0;break}}return o||this.node.appendChild(i),this}function o(){if("linearGradient"==this.type){var t=r(this.node,"x1")||0,e=r(this.node,"x2")||1,i=r(this.node,"y1")||0,a=r(this.node,"y2")||0;return n._.box(t,i,math.abs(e-t),math.abs(a-i))}var o=this.node.cx||.5,s=this.node.cy||.5,u=this.node.r||0;return n._.box(o-u,s-u,2*u,2*u)}function u(t){var r=t,i=this.stops();if("string"==typeof t&&(r=e("snap.util.grad.parse",null,"l(0,0,0,1)"+t).firstDefined().stops),n.is(r,"array")){for(var a=0;a<i.length;a++)if(r[a]){var o=n.color(r[a].color),s={offset:r[a].offset+"%"};s["stop-color"]=o.hex,o.opacity<1&&(s["stop-opacity"]=o.opacity),i[a].attr(s)}else i[a].remove();for(a=i.length;a<r.length;a++)this.addStop(r[a].color,r[a].offset);return this}}function l(t,e,s,l,f){var c=n._.make("linearGradient",t);return c.stops=i,c.addStop=a,c.getBBox=o,c.setStops=u,null!=e&&r(c.node,{x1:e,y1:s,x2:l,y2:f}),c}function f(t,e,s,u,l,f){var c=n._.make("radialGradient",t);return c.stops=i,c.addStop=a,c.getBBox=o,null!=e&&r(c.node,{cx:e,cy:s,r:u}),null!=l&&null!=f&&r(c.node,{fx:l,fy:f}),c}s.gradient=function(t){return function(t,n){var i,a=e("snap.util.grad.parse",null,n).firstDefined();if(!a)return null;a.params.unshift(t),i="l"==a.type.toLowerCase()?l.apply(0,a.params):f.apply(0,a.params),a.type!=a.type.toLowerCase()&&r(i.node,{gradientUnits:"userSpaceOnUse"});for(var o=a.stops,s=o.length,u=0;u<s;u++){var c=o[u];i.addStop(c.color,c.offset)}return i}(this.defs,t)},s.gradientLinear=function(t,e,n,r){return l(this.defs,t,e,n,r)},s.gradientRadial=function(t,e,n,r,i){return f(this.defs,t,e,n,r,i)},s.toString=function(){var t,e=this.node.ownerDocument,r=e.createDocumentFragment(),i=e.createElement("div"),a=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(a),n._.$(a,{xmlns:"http://www.w3.org/2000/svg"}),t=i.innerHTML,r.removeChild(r.firstChild),t},s.toDataURL=function(){if(t&&t.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},s.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e}),e=t}}()}),r.plugin(function(t,e,n,r){var i=e.prototype,a=t.is,o=t._.clone,s="hasOwnProperty",u=/,?([a-z]),?/gi,l=parseFloat,f=Math,c=f.PI,h=f.min,d=f.max,p=f.pow,g=f.abs;function v(t){var e=v.ps=v.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[s](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function m(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:f.min(n,r)/2,r2:f.max(n,r)/2,r0:f.sqrt(n*n+r*r)/2,path:P(t,e,n,r),vb:[t,e,n,r].join(" ")}}function y(){return this.join(",").replace(u,"$1")}function x(t){var e=o(t);return e.toString=y,e}function b(t,e,n,r,i,a,o,s,u){return null==u?_(t,e,n,r,i,a,o,s):A(t,e,n,r,i,a,o,s,function(t,e,n,r,i,a,o,s,u){if(u<0||_(t,e,n,r,i,a,o,s)<u)return;var l,f=.5,c=1-f;l=_(t,e,n,r,i,a,o,s,c);for(;g(l-u)>.01;)l=_(t,e,n,r,i,a,o,s,c+=(l<u?1:-1)*(f/=2));return c}(t,e,n,r,i,a,o,s,u))}function F(n,r){function i(t){return+(+t).toFixed(3)}return t._.cacher(function(t,a,o){t instanceof e&&(t=t.attr("d"));for(var s,u,l,f,c,h="",d={},p=0,g=0,v=(t=I(t)).length;g<v;g++){if("M"==(l=t[g])[0])s=+l[1],u=+l[2];else{if(p+(f=b(s,u,l[1],l[2],l[3],l[4],l[5],l[6]))>a){if(r&&!d.start){if(h+=["C"+i((c=b(s,u,l[1],l[2],l[3],l[4],l[5],l[6],a-p)).start.x),i(c.start.y),i(c.m.x),i(c.m.y),i(c.x),i(c.y)],o)return h;d.start=h,h=["M"+i(c.x),i(c.y)+"C"+i(c.n.x),i(c.n.y),i(c.end.x),i(c.end.y),i(l[5]),i(l[6])].join(),p+=f,s=+l[5],u=+l[6];continue}if(!n&&!r)return c=b(s,u,l[1],l[2],l[3],l[4],l[5],l[6],a-p)}p+=f,s=+l[5],u=+l[6]}h+=l.shift()+l}return d.end=h,c=n?p:r?d:A(s,u,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,t._.clone)}var C=F(1),w=F(),B=F(0,1);function A(t,e,n,r,i,a,o,s,u){var l=1-u,h=p(l,3),d=p(l,2),g=u*u,v=g*u,m=t+2*u*(n-t)+g*(i-2*n+t),y=e+2*u*(r-e)+g*(a-2*r+e),x=n+2*u*(i-n)+g*(o-2*i+n),b=r+2*u*(a-r)+g*(s-2*a+r);return{x:h*t+3*d*u*n+3*l*u*u*i+v*o,y:h*e+3*d*u*r+3*l*u*u*a+v*s,m:{x:m,y:y},n:{x:x,y:b},start:{x:l*t+u*n,y:l*e+u*r},end:{x:l*i+u*o,y:l*a+u*s},alpha:90-180*f.atan2(m-x,y-b)/c}}function E(e,n,r,i,a,o,s,u){t.is(e,"array")||(e=[e,n,r,i,a,o,s,u]);var l=R.apply(null,e);return m(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function S(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function k(t,e){return t=m(t),S(e=m(e),t.x,t.y)||S(e,t.x2,t.y)||S(e,t.x,t.y2)||S(e,t.x2,t.y2)||S(t,e.x,e.y)||S(t,e.x2,e.y)||S(t,e.x,e.y2)||S(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function D(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function _(t,e,n,r,i,a,o,s,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<12;p++){var g=l*c[p]+l,v=D(g,t,n,i,o),m=D(g,e,r,a,s),y=v*v+m*m;d+=h[p]*f.sqrt(y)}return l*d}function T(t,e,n,r,i,a,o,s){if(!(d(t,n)<h(i,o)||h(t,n)>d(i,o)||d(e,r)<h(a,s)||h(e,r)>d(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var l=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,f=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,c=+l.toFixed(2),p=+f.toFixed(2);if(!(c<+h(t,n).toFixed(2)||c>+d(t,n).toFixed(2)||c<+h(i,o).toFixed(2)||c>+d(i,o).toFixed(2)||p<+h(e,r).toFixed(2)||p>+d(e,r).toFixed(2)||p<+h(a,s).toFixed(2)||p>+d(a,s).toFixed(2)))return{x:l,y:f}}}}function M(t,e,n){if(!k(E(t),E(e)))return n?0:[];for(var r=~~(_.apply(0,t)/8),i=~~(_.apply(0,e)/8),a=[],o=[],s={},u=n?0:[],l=0;l<r+1;l++){var f=A.apply(0,t.concat(l/r));a.push({x:f.x,y:f.y,t:l/r})}for(l=0;l<i+1;l++)f=A.apply(0,e.concat(l/i)),o.push({x:f.x,y:f.y,t:l/i});for(l=0;l<r;l++)for(var c=0;c<i;c++){var h=a[l],d=a[l+1],p=o[c],v=o[c+1],m=g(d.x-h.x)<.001?"y":"x",y=g(v.x-p.x)<.001?"y":"x",x=T(h.x,h.y,d.x,d.y,p.x,p.y,v.x,v.y);if(x){if(s[x.x.toFixed(4)]==x.y.toFixed(4))continue;s[x.x.toFixed(4)]=x.y.toFixed(4);var b=h.t+g((x[m]-h[m])/(d[m]-h[m]))*(d.t-h.t),F=p.t+g((x[y]-p[y])/(v[y]-p[y]))*(v.t-p.t);b>=0&&b<=1&&F>=0&&F<=1&&(n?u++:u.push({x:x.x,y:x.y,t1:b,t2:F}))}}return u}function N(t,e,n){t=I(t),e=I(e);for(var r,i,a,o,s,u,l,f,c,h,d=n?0:[],p=0,g=t.length;p<g;p++){var v=t[p];if("M"==v[0])r=s=v[1],i=u=v[2];else{"C"==v[0]?(c=[r,i].concat(v.slice(1)),r=c[6],i=c[7]):(c=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,y=e.length;m<y;m++){var x=e[m];if("M"==x[0])a=l=x[1],o=f=x[2];else{"C"==x[0]?(h=[a,o].concat(x.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,l,f,l,f],a=l,o=f);var b=M(c,h,n);if(n)d+=b;else{for(var F=0,C=b.length;F<C;F++)b[F].segment1=p,b[F].segment2=m,b[F].bez1=c,b[F].bez2=h;d=d.concat(b)}}}}}return d}function j(t){var e=v(t);if(e.bbox)return o(e.bbox);if(!t)return m();for(var n,r=0,i=0,a=[],s=[],u=0,l=(t=I(t)).length;u<l;u++)if("M"==(n=t[u])[0])r=n[1],i=n[2],a.push(r),s.push(i);else{var f=R(r,i,n[1],n[2],n[3],n[4],n[5],n[6]);a=a.concat(f.min.x,f.max.x),s=s.concat(f.min.y,f.max.y),r=n[5],i=n[6]}var c=h.apply(0,a),p=h.apply(0,s),g=m(c,p,d.apply(0,a)-c,d.apply(0,s)-p);return e.bbox=o(g),g}function P(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.toString=y,a}function L(t,e,n,r,i){if(null==i&&null==r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!=i)var a=Math.PI/180,o=t+n*Math.cos(-r*a),s=t+n*Math.cos(-i*a),u=[["M",o,e+n*Math.sin(-r*a)],["A",n,n,0,+(i-r>180),0,s,e+n*Math.sin(-i*a)]];else u=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return u.toString=y,u}var q=t._unit2px,O={path:function(t){return t.attr("path")},circle:function(t){var e=q(t);return L(e.cx,e.cy,e.r)},ellipse:function(t){var e=q(t);return L(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=q(t);return P(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=q(t);return P(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return P(e.x,e.y,e.width,e.height)}};function V(e){var n=v(e);if(n.abs)return x(n.abs);if(a(e,"array")&&a(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r,i=[],o=0,s=0,u=0,l=0,f=0;"M"==e[0][0]&&(u=o=+e[0][1],l=s=+e[0][2],f++,i[0]=["M",o,s]);for(var c,h,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=f,g=e.length;p<g;p++){if(i.push(c=[]),(r=(h=e[p])[0])!=r.toUpperCase())switch(c[0]=r.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+o,c[7]=+h[7]+s;break;case"V":c[1]=+h[1]+s;break;case"H":c[1]=+h[1]+o;break;case"R":for(var m=[o,s].concat(h.slice(1)),b=2,F=m.length;b<F;b++)m[b]=+m[b]+o,m[++b]=+m[b]+s;i.pop(),i=i.concat(U(m,d));break;case"O":i.pop(),(m=L(o,s,h[1],h[2])).push(m[0]),i=i.concat(m);break;case"U":i.pop(),i=i.concat(L(o,s,h[1],h[2],h[3])),c=["U"].concat(i[i.length-1].slice(-2));break;case"M":u=+h[1]+o,l=+h[2]+s;default:for(b=1,F=h.length;b<F;b++)c[b]=+h[b]+(b%2?o:s)}else if("R"==r)m=[o,s].concat(h.slice(1)),i.pop(),i=i.concat(U(m,d)),c=["R"].concat(h.slice(-2));else if("O"==r)i.pop(),(m=L(o,s,h[1],h[2])).push(m[0]),i=i.concat(m);else if("U"==r)i.pop(),i=i.concat(L(o,s,h[1],h[2],h[3])),c=["U"].concat(i[i.length-1].slice(-2));else for(var C=0,w=h.length;C<w;C++)c[C]=h[C];if("O"!=(r=r.toUpperCase()))switch(c[0]){case"Z":o=+u,s=+l;break;case"H":o=c[1];break;case"V":s=c[1];break;case"M":u=c[c.length-2],l=c[c.length-1];default:o=c[c.length-2],s=c[c.length-1]}}return i.toString=y,n.abs=x(i),i}function G(t,e,n,r){return[t,e,n,r,n,r]}function z(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]}function R(t,e,n,r,i,a,o,s){for(var u,l,c,p,v,m,y,x,b=[],F=[[],[]],C=0;C<2;++C)if(0==C?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*o,c=3*n-3*t):(l=6*e-12*r+6*a,u=-3*e+9*r-9*a+3*s,c=3*r-3*e),g(u)<1e-12){if(g(l)<1e-12)continue;0<(p=-c/l)&&p<1&&b.push(p)}else y=l*l-4*c*u,x=f.sqrt(y),y<0||(0<(v=(-l+x)/(2*u))&&v<1&&b.push(v),0<(m=(-l-x)/(2*u))&&m<1&&b.push(m));for(var w,B=b.length,A=B;B--;)w=1-(p=b[B]),F[0][B]=w*w*w*t+3*w*w*p*n+3*w*p*p*i+p*p*p*o,F[1][B]=w*w*w*e+3*w*w*p*r+3*w*p*p*a+p*p*p*s;return F[0][A]=t,F[1][A]=e,F[0][A+1]=o,F[1][A+1]=s,F[0].length=F[1].length=A+2,{min:{x:h.apply(0,F[0]),y:h.apply(0,F[1])},max:{x:d.apply(0,F[0]),y:d.apply(0,F[1])}}}function I(e,n){var r=!n&&v(e);if(!n&&r.curve)return x(r.curve);for(var i=V(e),a=n&&V(n),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,n,r){var i,a;if(!e)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(e[0]in{T:1,Q:1})&&(n.qx=n.qy=null),e[0]){case"M":n.X=e[1],n.Y=e[2];break;case"A":e=["C"].concat(function e(n,r,i,a,o,s,u,l,h,d){var p,v=120*c/180,m=c/180*(+o||0),y=[],x=t._.cacher(function(t,e,n){return{x:t*f.cos(n)-e*f.sin(n),y:t*f.sin(n)+e*f.cos(n)}});if(!i||!a)return[n,r,l,h,l,h];if(d)k=d[0],D=d[1],E=d[2],S=d[3];else{n=(p=x(n,r,-m)).x,r=p.y,l=(p=x(l,h,-m)).x,h=p.y,f.cos(c/180*o),f.sin(c/180*o);var b=(n-l)/2,F=(r-h)/2,C=b*b/(i*i)+F*F/(a*a);C>1&&(i*=C=f.sqrt(C),a*=C);var w=i*i,B=a*a,A=(s==u?-1:1)*f.sqrt(g((w*B-w*F*F-B*b*b)/(w*F*F+B*b*b))),E=A*i*F/a+(n+l)/2,S=A*-a*b/i+(r+h)/2,k=f.asin(((r-S)/a).toFixed(9)),D=f.asin(((h-S)/a).toFixed(9));(k=n<E?c-k:k)<0&&(k=2*c+k),(D=l<E?c-D:D)<0&&(D=2*c+D),u&&k>D&&(k-=2*c),!u&&D>k&&(D-=2*c)}var _=D-k;if(g(_)>v){var T=D,M=l,N=h;D=k+v*(u&&D>k?1:-1),y=e(l=E+i*f.cos(D),h=S+a*f.sin(D),i,a,o,0,u,M,N,[D,T,E,S])}_=D-k;var j=f.cos(k),P=f.sin(k),L=f.cos(D),q=f.sin(D),O=f.tan(_/4),V=4/3*i*O,G=4/3*a*O,z=[n,r],R=[n+V*P,r-G*j],I=[l+V*q,h-G*L],U=[l,h];if(R[0]=2*z[0]-R[0],R[1]=2*z[1]-R[1],d)return[R,I,U].concat(y);for(var X=[],$=0,H=(y=[R,I,U].concat(y).join().split(",")).length;$<H;$++)X[$]=$%2?x(y[$-1],y[$],m).y:x(y[$],y[$+1],m).x;return X}.apply(0,[n.x,n.y].concat(e.slice(1))));break;case"S":"C"==r||"S"==r?(i=2*n.x-n.bx,a=2*n.y-n.by):(i=n.x,a=n.y),e=["C",i,a].concat(e.slice(1));break;case"T":"Q"==r||"T"==r?(n.qx=2*n.x-n.qx,n.qy=2*n.y-n.qy):(n.qx=n.x,n.qy=n.y),e=["C"].concat(z(n.x,n.y,n.qx,n.qy,e[1],e[2]));break;case"Q":n.qx=e[1],n.qy=e[2],e=["C"].concat(z(n.x,n.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(G(n.x,n.y,e[1],e[2]));break;case"H":e=["C"].concat(G(n.x,n.y,e[1],n.y));break;case"V":e=["C"].concat(G(n.x,n.y,n.x,e[1]));break;case"Z":e=["C"].concat(G(n.x,n.y,n.X,n.Y))}return e},h=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)m[e]="A",a&&(y[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),w=d(i.length,a&&a.length||0)}},p=function(t,e,n,r,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],w=d(i.length,a&&a.length||0))},m=[],y=[],b="",F="",C=0,w=d(i.length,a&&a.length||0);C<w;C++){i[C]&&(b=i[C][0]),"C"!=b&&(m[C]=b,C&&(F=m[C-1])),i[C]=u(i[C],o,F),"A"!=m[C]&&"C"==b&&(m[C]="C"),h(i,C),a&&(a[C]&&(b=a[C][0]),"C"!=b&&(y[C]=b,C&&(F=y[C-1])),a[C]=u(a[C],s,F),"A"!=y[C]&&"C"==b&&(y[C]="C"),h(a,C)),p(i,a,o,s,C),p(a,i,s,o,C);var B=i[C],A=a&&a[C],E=B.length,S=a&&A.length;o.x=B[E-2],o.y=B[E-1],o.bx=l(B[E-4])||o.x,o.by=l(B[E-3])||o.y,s.bx=a&&(l(A[S-4])||s.x),s.by=a&&(l(A[S-3])||s.y),s.x=a&&A[S-2],s.y=a&&A[S-1]}return a||(r.curve=x(i)),a?[i,a]:i}function U(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?a[3]={x:+t[0],y:+t[1]}:i-2==r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}t.path=v,t.path.getTotalLength=C,t.path.getPointAtLength=w,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return B(t,e).end;var r=B(t,n,1);return e?B(r,e).end:r},i.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},i.getPointAtLength=function(t){return w(this.attr("d"),t)},i.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=m,t.path.findDotsAtSegment=A,t.path.bezierBBox=E,t.path.isPointInsideBBox=S,t.closest=function(e,n,r,i){for(var a=100,o=m(e-a/2,n-a/2,a,a),s=[],u=r[0].hasOwnProperty("x")?function(t){return{x:r[t].x,y:r[t].y}}:function(t){return{x:r[t],y:i[t]}},l=0;a<=1e6&&!l;){for(var f=0,c=r.length;f<c;f++){var h=u(f);if(S(o,h.x,h.y)){l++,s.push(h);break}}l||(o=m(e-(a*=2)/2,n-a/2,a,a))}if(1e6!=a){var d,p=1/0;for(f=0,c=s.length;f<c;f++){var g=t.len(e,n,s[f].x,s[f].y);p>g&&(p=g,s[f].len=g,d=s[f])}return d}},t.path.isBBoxIntersect=k,t.path.intersection=function(t,e){return N(t,e)},t.path.intersectionNumber=function(t,e){return N(t,e,1)},t.path.isPointInside=function(t,e,n){var r=j(t);return S(r,e,n)&&N(t,[["M",e,n],["H",r.x2+10]],1)%2==1},t.path.getBBox=j,t.path.get=O,t.path.toRelative=function(e){var n=v(e),r=String.prototype.toLowerCase;if(n.rel)return x(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var i=[],a=0,o=0,s=0,u=0,l=0;"M"==e[0][0]&&(s=a=e[0][1],u=o=e[0][2],l++,i.push(["M",a,o]));for(var f=l,c=e.length;f<c;f++){var h=i[f]=[],d=e[f];if(d[0]!=r.call(d[0]))switch(h[0]=r.call(d[0]),h[0]){case"a":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+(d[6]-a).toFixed(3),h[7]=+(d[7]-o).toFixed(3);break;case"v":h[1]=+(d[1]-o).toFixed(3);break;case"m":s=d[1],u=d[2];default:for(var p=1,g=d.length;p<g;p++)h[p]=+(d[p]-(p%2?a:o)).toFixed(3)}else{h=i[f]=[],"m"==d[0]&&(s=d[1]+a,u=d[2]+o);for(var m=0,b=d.length;m<b;m++)i[f][m]=d[m]}var F=i[f].length;switch(i[f][0]){case"z":a=s,o=u;break;case"h":a+=+i[f][F-1];break;case"v":o+=+i[f][F-1];break;default:a+=+i[f][F-2],o+=+i[f][F-1]}}return i.toString=y,n.rel=x(i),i},t.path.toAbsolute=V,t.path.toCubic=I,t.path.map=function(t,e){if(!e)return t;var n,r,i,a,o,s,u;for(i=0,o=(t=I(t)).length;i<o;i++)for(a=1,s=(u=t[i]).length;a<s;a+=2)n=e.x(u[a],u[a+1]),r=e.y(u[a],u[a+1]),u[a]=n,u[a+1]=r;return t},t.path.toString=y,t.path.clone=x}),r.plugin(function(t,r,i,a){var o=Math.max,s=Math.min,u=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},l=u.prototype;l.push=function(){for(var t,e,n=0,r=arguments.length;n<r;n++)(t=arguments[n])&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},l.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},l.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(!1===t.call(e,this.items[n],n))return this;return this},l.animate=function(r,i,a,o){"function"!=typeof a||a.length||(o=a,a=n.linear),r instanceof t._.Animation&&(o=r.callback,a=r.easing,i=a.dur,r=r.attr);var s=arguments;if(t.is(r,"array")&&t.is(s[s.length-1],"array"))var u=!0;var l,f=function(){l?this.b=l:l=this.b},c=0,h=this,d=o&&function(){++c==h.length&&o.call(this)};return this.forEach(function(t,n){e.once("snap.animcreated."+t.id,f),u?s[n]&&t.animate.apply(t,s[n]):t.animate(r,i,a,d)})},l.remove=function(){for(;this.length;)this.pop().remove();return this},l.bind=function(t,e,n){var r={};if("function"==typeof e)this.bindings[t]=e;else{var i=n||t;this.bindings[t]=function(t){r[i]=t,e.attr(r)}}return this},l.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var r=0,i=this.items.length;r<i;r++)this.items[r].attr(e);return this},l.clear=function(){for(;this.length;)this.pop()},l.splice=function(t,e,n){t=t<0?o(this.length+t,0):t,e=o(0,s(this.length-t,e));var r,i=[],a=[],l=[];for(r=2;r<arguments.length;r++)l.push(arguments[r]);for(r=0;r<e;r++)a.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var f=l.length;for(r=0;r<f+i.length;r++)this.items[t+r]=this[t+r]=r<f?l[r]:i[r-f];for(r=this.items.length=this.length-=e-f;this[r];)delete this[r++];return new u(a)},l.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},l.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},l.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var a=this.items[i].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),r.push(a.y+a.height)}return{x:t=s.apply(0,t),y:e=s.apply(0,e),x2:n=o.apply(0,n),y2:r=o.apply(0,r),width:n-t,height:r-e,cx:t+(n-t)/2,cy:e+(r-e)/2}},l.clone=function(t){t=new u;for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},l.toString=function(){return"Snap‘s set"},l.type="set",t.Set=u,t.set=function(){var t=new u;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,n,r,i){var a={},o=/[%a-z]+$/i,s=String;function u(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function l(t){return t}function f(t){return t.join(" ")}function c(e){return t.rgb(e[0],e[1],e[2],e[3])}function h(t){var e,n,r,i,a,o,s=0,u=[];for(e=0,n=t.length;e<n;e++){for(a="[",o=['"'+t[e][0]+'"'],r=1,i=t[e].length;r<i;r++)o[r]="val["+s+++"]";a+=o+"]",u[e]=a}return Function("val","return Snap.path.toString.call(["+u+"])")}function d(t){for(var e=[],n=0,r=t.length;n<r;n++)for(var i=1,a=t[n].length;i<a;i++)e.push(t[n][i]);return e}function p(t){return isFinite(t)}a.stroke=a.fill="colour",n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()},e.on("snap.util.equal",function(e,n){var r,i,g=s(this.attr(e)||""),v=this;if("colour"==a[e])return r=t.color(g),i=t.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[i.r,i.g,i.b,i.opacity],f:c};if("viewBox"==e)return{from:r=this.attr(e).vb.split(" ").map(Number),to:i=n.split(" ").map(Number),f:f};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return"string"==typeof n&&(n=s(n).replace(/\.{3}|\u2026/g,g)),function(e,n,r){e=e||new t.Matrix,n=n||new t.Matrix,e=t.parseTransformString(e.toTransformString())||[],n=t.parseTransformString(n.toTransformString())||[];for(var i,a,o,s,l=Math.max(e.length,n.length),f=[],c=[],p=0;p<l;p++){if(o=e[p]||u(n[p]),s=n[p]||u(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4])){e=t._.transform2matrix(e,r()),n=t._.transform2matrix(n,r()),f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],c=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(f[p]=[],c[p]=[],i=0,a=Math.max(o.length,s.length);i<a;i++)i in o&&(f[p][i]=o[i]),i in s&&(c[p][i]=s[i])}return{from:d(f),to:d(c),f:h(f)}}(g=this.matrix,n=t._.rgTransform.test(n)?t._.transform2matrix(n,this.getBBox()):t._.transform2matrix(t._.svgTransform2string(n),this.getBBox()),function(){return v.getBBox(1)});if("d"==e||"path"==e)return{from:d((r=t.path.toCubic(g,n))[0]),to:d(r[1]),f:h(r[0])};if("points"==e)return{from:r=s(g).split(t._.separator),to:i=s(n).split(t._.separator),f:function(t){return t}};if(p(g)&&p(n))return{from:parseFloat(g),to:parseFloat(n),f:l};var m,y,x,b=g.match(o),F=s(n).match(o);return b&&(y=b,x=F,t.is(y,"array")&&t.is(x,"array")&&y.toString()==x.toString())?{from:parseFloat(g),to:parseFloat(n),f:(m=b,function(t){return+t.toFixed(3)+m})}:{from:this.asPX(e),to:this.asPX(e,n),f:l}})}),r.plugin(function(t,n,r,i){for(var a=n.prototype,o=("createTouch"in i.doc),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(t,e){var n="y"==t?"scrollTop":"scrollLeft",r=e&&e.node?e.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},f=function(){return this.originalEvent.preventDefault()},c=function(){return this.originalEvent.stopPropagation()},h=function(t,e,n,r){var i=o&&u[e]?u[e]:e,a=function(i){var a=l("y",r),s=l("x",r);if(o&&u.hasOwnProperty(e))for(var h=0,d=i.targetTouches&&i.targetTouches.length;h<d;h++)if(i.targetTouches[h].target==t||t.contains(i.targetTouches[h].target)){var p=i;(i=i.targetTouches[h]).originalEvent=p,i.preventDefault=f,i.stopPropagation=c;break}var g=i.clientX+s,v=i.clientY+a;return n.call(r,i,g,v)};return e!==i&&t.addEventListener(e,a,!1),t.addEventListener(i,a,!1),function(){return e!==i&&t.removeEventListener(e,a,!1),t.removeEventListener(i,a,!1),!0}},d=[],p=function(t){for(var n,r=t.clientX,i=t.clientY,a=l("y"),s=l("x"),u=d.length;u--;){if(n=d[u],o){for(var f,c=t.touches&&t.touches.length;c--;)if((f=t.touches[c]).identifier==n.el._drag.id||n.el.node.contains(f.target)){r=f.clientX,i=f.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h=n.el.node;h.nextSibling,h.parentNode,h.style.display;r+=s,i+=a,e("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}},g=function(n){t.unmousemove(p).unmouseup(g);for(var r,i=d.length;i--;)(r=d[i]).el._drag={},e("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n),e.off("snap.drag.*."+r.el.id);d=[]},v=s.length;v--;)!function(e){t[e]=a[e]=function(n,r){if(t.is(n,"function"))this.events=this.events||[],this.events.push({name:e,f:n,unbind:h(this.node||document,e,n,r||this)});else for(var i=0,a=this.events.length;i<a;i++)if(this.events[i].name==e)try{this.events[i].f.call(this)}catch(o){}return this},t["un"+e]=a["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&(n[r].f==t||!t))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(s[v]);a.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},a.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var m=[];a.drag=function(n,r,i,a,o,s){var u,l=this;if(!arguments.length)return l.drag(function(t,e){this.attr({transform:u+(u?"T":"t")+[t,e]})},function(){u=this.transform().local});function f(u,f,c){(u.originalEvent||u).preventDefault(),l._drag.x=f,l._drag.y=c,l._drag.id=u.identifier,!d.length&&t.mousemove(p).mouseup(g),d.push({el:l,move_scope:a,start_scope:o,end_scope:s}),r&&e.on("snap.drag.start."+l.id,r),n&&e.on("snap.drag.move."+l.id,n),i&&e.on("snap.drag.end."+l.id,i),e("snap.drag.start."+l.id,o||a||l,f,c,u)}function c(t,n,r){e("snap.draginit."+l.id,l,t,n,r)}return e.on("snap.draginit."+l.id,f),l._drag={},m.push({el:l,start:f,init:c}),l.mousedown(c),l},a.undrag=function(){for(var n=m.length;n--;)m[n].el==this&&(this.unmousedown(m[n].init),m.splice(n,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!m.length&&t.unmousemove(p).unmouseup(g),this}}),r.plugin(function(t,n,r,i){n.prototype;var a=r.prototype,o=/^\s*url\((.+)\)/,s=String,u=t._.$;t.filter={},a.filter=function(e){var r=this;"svg"!=r.type&&(r=r.paper);var i=t.parse(s(e)),a=t._.id(),o=(r.node.offsetWidth,r.node.offsetHeight,u("filter"));return u(o,{id:a,filterUnits:"userSpaceOnUse"}),o.appendChild(i.node),r.defs.appendChild(o),new n(o)},e.on("snap.util.getattr.filter",function(){e.stop();var n=u(this.node,"filter");if(n){var r=s(n).match(o);return r&&t.select(r[1])}}),e.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){e.stop();var i=r.node.id;i||(u(r.node,{id:r.id}),i=r.id),u(this.node,{filter:t.url(i)})}r&&"none"!=r||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var r=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,r,i,a){return null==a&&(null==i?(a=r,r=4,i="#000"):(a=i,i=r,r=4)),null==r&&(r=4),null==a&&(a=1),null==e&&(e=0,n=2),null==n&&(n=e),i=t.color(i),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:e,dy:n,blur:r,opacity:a})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),r.plugin(function(t,e,n,r,i){var a=t._.box,o=t.is,s=/^[^a-z]*([tbmlrc])/i,u=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&o(t,"string")&&(e=t,t=null);var n=(t=t||this.paper).getBBox?t.getBBox():a(t),r=this.getBBox(),i={};switch(e=(e=e&&e.match(s))?e[1].toLowerCase():"c"){case"t":i.dx=0,i.dy=n.y-r.y;break;case"b":i.dx=0,i.dy=n.y2-r.y2;break;case"m":i.dx=0,i.dy=n.cy-r.cy;break;case"l":i.dx=n.x-r.x,i.dy=0;break;case"r":i.dx=n.x2-r.x2,i.dy=0;break;default:i.dx=n.cx-r.cx,i.dy=0}return i.toString=u,i},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),r.plugin(function(e,n,r,i){function a(t){t=t.split(/(?=#)/);var e=new String(t[5]);return e[50]=t[0],e[100]=t[1],e[200]=t[2],e[300]=t[3],e[400]=t[4],e[500]=t[5],e[600]=t[6],e[700]=t[7],e[800]=t[8],e[900]=t[9],t[10]&&(e.A100=t[10],e.A200=t[11],e.A400=t[12],e.A700=t[13]),e}e.mui={},e.flat={},e.mui.red=a("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),e.mui.pink=a("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),e.mui.purple=a("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),e.mui.deeppurple=a("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),e.mui.indigo=a("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),e.mui.blue=a("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),e.mui.lightblue=a("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),e.mui.cyan=a("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),e.mui.teal=a("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),e.mui.green=a("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),e.mui.lightgreen=a("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),e.mui.lime=a("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),e.mui.yellow=a("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),e.mui.amber=a("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),e.mui.orange=a("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),e.mui.deeporange=a("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),e.mui.brown=a("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),e.mui.grey=a("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),e.mui.bluegrey=a("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),e.flat.turquoise="#1abc9c",e.flat.greensea="#16a085",e.flat.sunflower="#f1c40f",e.flat.orange="#f39c12",e.flat.emerland="#2ecc71",e.flat.nephritis="#27ae60",e.flat.carrot="#e67e22",e.flat.pumpkin="#d35400",e.flat.peterriver="#3498db",e.flat.belizehole="#2980b9",e.flat.alizarin="#e74c3c",e.flat.pomegranate="#c0392b",e.flat.amethyst="#9b59b6",e.flat.wisteria="#8e44ad",e.flat.clouds="#ecf0f1",e.flat.silver="#bdc3c7",e.flat.wetasphalt="#34495e",e.flat.midnightblue="#2c3e50",e.flat.concrete="#95a5a6",e.flat.asbestos="#7f8c8d",e.importMUIColors=function(){for(var n in e.mui)e.mui.hasOwnProperty(n)&&(t[n]=e.mui[n])}}),r});
},{"eve":"yHh2"}],"WYMN":[function(require,module,exports) {
"use strict";require("snapsvg");var e=require("./ui_styling.js");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}var r=function(){function e(){t(this,e),this.current_states={},document.querySelectorAll(".svgIcon").forEach(function(e){e.parentElement.onmouseover=function(){return o.changeState(e.attributes.id.value,"hover")},e.parentElement.onmouseleave=function(){return o.changeState(e.attributes.id.value)},e.outerHTML='<object class="svgIcon" id="'.concat(e.attributes.id.value,'" type="image/svg+xml" data="static/img/icons/').concat(e.attributes.title.value,'.svg"></object>')})}return a(e,[{key:"changeState",value:function(e,t){null==t?t=this.current_states[e]||"reset":"hover"!=t&&(this.current_states[e]=t);for(var n=Snap(document.getElementById(e)),a=this.icon_states[e][t],r=0,o=Object.keys(a);r<o.length;r++){var i=o[r];n.select("#"+i).animate(a[i],200)}}}]),e}();r.prototype.icon_states=e.ICONS_STATES;var o=new r;module.exports={iconManager:o};
},{"snapsvg":"I/es","./ui_styling.js":"jMoj"}],"zMBz":[function(require,module,exports) {
function t(t,e){return new Promise(function(n,s){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==this.readyState&&200==this.status&&n(JSON.parse(this.responseText))},o.open(t.toUpperCase(),e,!0),o.send()})}module.exports={fetch:t,get:function(e){return t("get",e)},post:function(e){return t("post",e)}};
},{}],"FRpO":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,s,f;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),f=s[t]),void 0===f)f=s[t]=n,++e._eventsCount;else if("function"==typeof f?f=s[t]=i?[n,f]:[f,n]:i?f.unshift(n):f.push(n),(o=u(e))>0&&f.length>o&&!f.warned){f.warned=!0;var p=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=f.length,r(p)}return e}function p(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,n(this.listener,this.target,e))}function v(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?y(i):c(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function c(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var p=f.length,v=c(f,p);for(r=0;r<p;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return f(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return f(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,v(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,v(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():l(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"K5Tb":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"Yj0v":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"pBGv"}],"REa7":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"1ExO":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"FRpO"}],"yh9p":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"JgNJ":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"dskh":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"yh9p","ieee754":"JgNJ","isarray":"REa7","buffer":"dskh"}],"38Wu":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"dskh"}],"Q14w":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"dskh"}],"4Bm0":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"70rD":[function(require,module,exports) {

},{}],"wl+m":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"38Wu","util":"70rD"}],"GRUB":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"Yj0v"}],"yM1o":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"WSyY":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=require("core-util-is");f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||B(e,t),t.pendingcb--,r(),T(e,t)}function B(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function j(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"4Bm0","util-deprecate":"yM1o","./internal/streams/stream":"1ExO","safe-buffer":"38Wu","./internal/streams/destroy":"GRUB","./_stream_duplex":"Hba+","process":"pBGv"}],"Hba+":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=require("core-util-is");r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"Yj0v","core-util-is":"Q14w","inherits":"4Bm0","./_stream_readable":"DHrQ","./_stream_writable":"WSyY"}],"z0rv":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"38Wu"}],"DHrQ":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=require("core-util-is");p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"Yj0v","isarray":"REa7","events":"FRpO","./internal/streams/stream":"1ExO","safe-buffer":"38Wu","core-util-is":"Q14w","inherits":"4Bm0","util":"70rD","./internal/streams/BufferList":"wl+m","./internal/streams/destroy":"GRUB","./_stream_duplex":"Hba+","string_decoder/":"z0rv","process":"pBGv"}],"7tlB":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=require("core-util-is");function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"Hba+","core-util-is":"Q14w","inherits":"4Bm0"}],"nwyA":[function(require,module,exports) {
"use strict";module.exports=i;var r=require("./_stream_transform"),e=require("core-util-is");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(i,r),i.prototype._transform=function(r,e,i){i(null,r)};
},{"./_stream_transform":"7tlB","core-util-is":"Q14w","inherits":"4Bm0"}],"tzeh":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"DHrQ","./lib/_stream_writable.js":"WSyY","./lib/_stream_duplex.js":"Hba+","./lib/_stream_transform.js":"7tlB","./lib/_stream_passthrough.js":"nwyA"}],"aVXY":[function(require,module,exports) {
"use strict";module.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(n){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(!1===(t=e.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))};
},{}],"qYbH":[function(require,module,exports) {
"use strict";module.exports=function(){};
},{}],"f648":[function(require,module,exports) {
"use strict";var n=require("../function/noop")();module.exports=function(r){return r!==n&&null!==r};
},{"../function/noop":"qYbH"}],"XtTh":[function(require,module,exports) {
"use strict";var e=require("./is-value");module.exports=function(r){if(!e(r))throw new TypeError("Cannot use null or undefined");return r};
},{"./is-value":"f648"}],"gYQs":[function(require,module,exports) {
"use strict";var e=require("../../object/valid-value");module.exports=function(){return e(this).length=0,this};
},{"../../object/valid-value":"XtTh"}],"dUE7":[function(require,module,exports) {
"use strict";module.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))};
},{}],"HfQr":[function(require,module,exports) {
"use strict";module.exports=function(t){return t!=t};
},{}],"oV7L":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Number.isNaN:require("./shim");
},{"./is-implemented":"dUE7","./shim":"HfQr"}],"21NF":[function(require,module,exports) {
"use strict";module.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))};
},{}],"8sEr":[function(require,module,exports) {
"use strict";module.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1};
},{}],"NukD":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Math.sign:require("./shim");
},{"./is-implemented":"21NF","./shim":"8sEr"}],"vc2B":[function(require,module,exports) {
"use strict";var r=require("../math/sign"),t=Math.abs,e=Math.floor;module.exports=function(i){return isNaN(i)?0:0!==(i=Number(i))&&isFinite(i)?r(i)*e(t(i)):i};
},{"../math/sign":"NukD"}],"UcXu":[function(require,module,exports) {
"use strict";var e=require("./to-integer"),r=Math.max;module.exports=function(t){return r(0,e(t))};
},{"./to-integer":"vc2B"}],"xmo4":[function(require,module,exports) {
"use strict";var r=require("../../number/is-nan"),e=require("../../number/to-pos-integer"),t=require("../../object/valid-value"),i=Array.prototype.indexOf,n=Object.prototype.hasOwnProperty,o=Math.abs,a=Math.floor;module.exports=function(s){var u,h,l,p;if(!r(s))return i.apply(this,arguments);for(h=e(t(this).length),l=arguments[1],u=l=isNaN(l)?0:l>=0?a(l):e(this.length)-a(o(l));u<h;++u)if(n.call(this,u)&&(p=this[u],r(p)))return u;return-1};
},{"../../number/is-nan":"oV7L","../../number/to-pos-integer":"UcXu","../../object/valid-value":"XtTh"}],"fV8u":[function(require,module,exports) {
"use strict";var t=Object.create,e=Object.getPrototypeOf,o={};module.exports=function(){var r=Object.setPrototypeOf,c=arguments[0]||t;return"function"==typeof r&&e(r(c(null),o))===o};
},{}],"DMbP":[function(require,module,exports) {
"use strict";var e=require("./is-value"),t={function:!0,object:!0};module.exports=function(r){return e(r)&&t[typeof r]||!1};
},{"./is-value":"f648"}],"L1vk":[function(require,module,exports) {
"use strict";var e,r=Object.create;require("./set-prototype-of/is-implemented")()||(e=require("./set-prototype-of/shim")),module.exports=function(){var t,o,l;return e?1!==e.level?r:(t={},o={},l={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){o[e]="__proto__"!==e?l:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(t,o),Object.defineProperty(e,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:t}),function(e,o){return r(null===e?t:e,o)}):r}();
},{"./set-prototype-of/is-implemented":"fV8u","./set-prototype-of/shim":"4Pnm"}],"4Pnm":[function(require,module,exports) {
"use strict";var e,t=require("../is-object"),r=require("../valid-value"),l=Object.prototype.isPrototypeOf,o=Object.defineProperty,n={configurable:!0,enumerable:!1,writable:!0,value:void 0};e=function(e,l){if(r(e),null===l||t(l))return e;throw new TypeError("Prototype must be null or an object")},module.exports=function(t){var r,u;return t?(2===t.level?t.set?(u=t.set,r=function(t,r){return u.call(e(t,r),r),t}):r=function(t,r){return e(t,r).__proto__=r,t}:r=function t(r,u){var c;return e(r,u),(c=l.call(t.nullPolyfill,r))&&delete t.nullPolyfill.__proto__,null===u&&(u=t.nullPolyfill),r.__proto__=u,c&&o(t.nullPolyfill,"__proto__",n),r},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var e,t=Object.create(null),r={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(e=l.set).call(t,r)}catch(o){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}()),require("../create");
},{"../is-object":"DMbP","../valid-value":"XtTh","../create":"L1vk"}],"Nec0":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Object.setPrototypeOf:require("./shim");
},{"./is-implemented":"fV8u","./shim":"4Pnm"}],"N9bW":[function(require,module,exports) {
"use strict";module.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t};
},{}],"duF3":[function(require,module,exports) {
"use strict";var r=void 0;module.exports=function(t){return t!==r&&null!==t};
},{}],"Hi/X":[function(require,module,exports) {
"use strict";var e=require("../value/is"),r={object:!0,function:!0,undefined:!0};module.exports=function(t){return!!e(t)&&hasOwnProperty.call(r,typeof t)};
},{"../value/is":"duF3"}],"psVw":[function(require,module,exports) {
"use strict";var r=require("../object/is");module.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(e){return!1}};
},{"../object/is":"Hi/X"}],"OYbY":[function(require,module,exports) {
"use strict";var t=require("../prototype/is");module.exports=function(r){if("function"!=typeof r)return!1;if(!hasOwnProperty.call(r,"length"))return!1;try{if("number"!=typeof r.length)return!1;if("function"!=typeof r.call)return!1;if("function"!=typeof r.apply)return!1}catch(e){return!1}return!t(r)};
},{"../prototype/is":"psVw"}],"338Z":[function(require,module,exports) {
"use strict";var t=require("../function/is"),r=/^\s*class[\s{/}]/,s=Function.prototype.toString;module.exports=function(e){return!!t(e)&&!r.test(s.call(e))};
},{"../function/is":"OYbY"}],"y60x":[function(require,module,exports) {
"use strict";module.exports=function(){var r,t=Object.assign;return"function"==typeof t&&(t(r={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),r.foo+r.bar+r.trzy==="razdwatrzy")};
},{}],"gq3z":[function(require,module,exports) {
"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}};
},{}],"3cwc":[function(require,module,exports) {
"use strict";var e=require("../is-value"),r=Object.keys;module.exports=function(t){return r(e(t)?Object(t):t)};
},{"../is-value":"f648"}],"nhVq":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Object.keys:require("./shim");
},{"./is-implemented":"gq3z","./shim":"3cwc"}],"ojUF":[function(require,module,exports) {
"use strict";var r=require("../keys"),e=require("../valid-value"),t=Math.max;module.exports=function(a,i){var o,u,c,n=t(arguments.length,2);for(a=Object(e(a)),c=function(r){try{a[r]=i[r]}catch(e){o||(o=e)}},u=1;u<n;++u)i=arguments[u],r(i).forEach(c);if(void 0!==o)throw o;return a};
},{"../keys":"nhVq","../valid-value":"XtTh"}],"flj+":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Object.assign:require("./shim");
},{"./is-implemented":"y60x","./shim":"ojUF"}],"1uac":[function(require,module,exports) {

"use strict";var r=require("./is-value"),e=Array.prototype.forEach,t=Object.create,c=function(r,e){var t;for(t in r)e[t]=r[t]};module.exports=function(n){var o=t(null);return e.call(arguments,function(e){r(e)&&c(Object(e),o)}),o};
},{"./is-value":"f648"}],"753d":[function(require,module,exports) {
"use strict";var n="razdwatrzy";module.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))};
},{}],"3RK5":[function(require,module,exports) {
"use strict";var t=String.prototype.indexOf;module.exports=function(r){return t.call(this,r,arguments[1])>-1};
},{}],"z+/R":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?String.prototype.contains:require("./shim");
},{"./is-implemented":"753d","./shim":"3RK5"}],"iAJW":[function(require,module,exports) {
"use strict";var e=require("type/value/is"),r=require("type/plain-function/is"),i=require("es5-ext/object/assign"),t=require("es5-ext/object/normalize-options"),l=require("es5-ext/string/#/contains"),n=module.exports=function(r,n){var u,a,o,s,c;return arguments.length<2||"string"!=typeof r?(s=n,n=r,r=null):s=arguments[2],e(r)?(u=l.call(r,"c"),a=l.call(r,"e"),o=l.call(r,"w")):(u=o=!0,a=!1),c={value:n,configurable:u,enumerable:a,writable:o},s?i(t(s),c):c};n.gs=function(n,u,a){var o,s,c,g;return"string"!=typeof n?(c=a,a=u,u=n,n=null):c=arguments[3],e(u)?r(u)?e(a)?r(a)||(c=a,a=void 0):a=void 0:(c=u,u=a=void 0):u=void 0,e(n)?(o=l.call(n,"c"),s=l.call(n,"e")):(o=!0,s=!1),g={get:u,set:a,configurable:o,enumerable:s},c?i(t(c),g):g};
},{"type/value/is":"duF3","type/plain-function/is":"338Z","es5-ext/object/assign":"flj+","es5-ext/object/normalize-options":"1uac","es5-ext/string/#/contains":"z+/R"}],"PR/g":[function(require,module,exports) {
"use strict";var e,t,r,l,i,n,c,s=require("d"),o=require("es5-ext/object/valid-callable"),_=Function.prototype.apply,a=Function.prototype.call,h=Object.create,u=Object.defineProperty,f=Object.defineProperties,p=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0};t=function(t,l){var i,n;return o(l),n=this,e.call(this,t,i=function(){r.call(n,t,i),_.call(l,this,arguments)}),i.__eeOnceListener__=l,this},i={on:e=function(e,t){var r;return o(t),p.call(this,"__ee__")?r=this.__ee__:(r=b.value=h(null),u(this,"__ee__",b),b.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:t,off:r=function(e,t){var r,l,i,n;if(o(t),!p.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(l=r[e]))for(n=0;i=l[n];++n)i!==t&&i.__eeOnceListener__!==t||(2===l.length?r[e]=l[n?0:1]:l.splice(n,1));else l!==t&&l.__eeOnceListener__!==t||delete r[e];return this},emit:l=function(e){var t,r,l,i,n;if(p.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,n=new Array(r-1),t=1;t<r;++t)n[t-1]=arguments[t];for(i=i.slice(),t=0;l=i[t];++t)_.call(l,this,n)}else switch(arguments.length){case 1:a.call(i,this);break;case 2:a.call(i,this,arguments[1]);break;case 3:a.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,n=new Array(r-1),t=1;t<r;++t)n[t-1]=arguments[t];_.call(i,this,n)}}},n={on:s(e),once:s(t),off:s(r),emit:s(l)},c=f({},n),module.exports=exports=function(e){return null==e?h(c):f(Object(e),n)},exports.methods=i;
},{"d":"iAJW","es5-ext/object/valid-callable":"N9bW"}],"kFoP":[function(require,module,exports) {
module.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}();
},{}],"kKrP":[function(require,module,exports) {

"use strict";var t=require("es5-ext/global"),e={object:!0,symbol:!0};module.exports=function(){var r,o=t.Symbol;if("function"!=typeof o)return!1;r=o("test symbol");try{String(r)}catch(i){return!1}return!!e[typeof o.iterator]&&(!!e[typeof o.toPrimitive]&&!!e[typeof o.toStringTag])};
},{"es5-ext/global":"kFoP"}],"X3hX":[function(require,module,exports) {
"use strict";module.exports=function(o){return!!o&&("symbol"==typeof o||!!o.constructor&&("Symbol"===o.constructor.name&&"Symbol"===o[o.constructor.toStringTag]))};
},{}],"g5oG":[function(require,module,exports) {
"use strict";var r=require("./is-symbol");module.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e};
},{"./is-symbol":"X3hX"}],"FoH/":[function(require,module,exports) {
"use strict";var e=require("d"),t=Object.create,r=Object.defineProperty,n=Object.prototype,o=t(null);module.exports=function(t){for(var u,c,i=0;o[t+(i||"")];)++i;return o[t+=i||""]=!0,r(n,u="@@"+t,e.gs(null,function(t){c||(c=!0,r(this,u,e(t)),c=!1)})),u};
},{"d":"iAJW"}],"IqnC":[function(require,module,exports) {
"use strict";var e=require("d"),t=require("es5-ext/global").Symbol;module.exports=function(a){return Object.defineProperties(a,{hasInstance:e("",t&&t.hasInstance||a("hasInstance")),isConcatSpreadable:e("",t&&t.isConcatSpreadable||a("isConcatSpreadable")),iterator:e("",t&&t.iterator||a("iterator")),match:e("",t&&t.match||a("match")),replace:e("",t&&t.replace||a("replace")),search:e("",t&&t.search||a("search")),species:e("",t&&t.species||a("species")),split:e("",t&&t.split||a("split")),toPrimitive:e("",t&&t.toPrimitive||a("toPrimitive")),toStringTag:e("",t&&t.toStringTag||a("toStringTag")),unscopables:e("",t&&t.unscopables||a("unscopables"))})};
},{"d":"iAJW","es5-ext/global":"kFoP"}],"XfYV":[function(require,module,exports) {
"use strict";var r=require("d"),e=require("../../../validate-symbol"),t=Object.create(null);module.exports=function(n){return Object.defineProperties(n,{for:r(function(r){return t[r]?t[r]:t[r]=n(String(r))}),keyFor:r(function(r){var n;for(n in e(r),t)if(t[n]===r)return n})})};
},{"d":"iAJW","../../../validate-symbol":"g5oG"}],"BOeD":[function(require,module,exports) {
"use strict";var t,r,e,o=require("d"),i=require("./validate-symbol"),n=require("es5-ext/global").Symbol,p=require("./lib/private/generate-name"),s=require("./lib/private/setup/standard-symbols"),u=require("./lib/private/setup/symbol-registry"),c=Object.create,a=Object.defineProperties,y=Object.defineProperty;if("function"==typeof n)try{String(n()),e=!0}catch(l){}else n=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return t(e)},module.exports=t=function t(i){var s;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return e?n(i):(s=c(r.prototype),i=void 0===i?"":String(i),a(s,{__description__:o("",i),__name__:o("",p(i))}))},s(t),u(t),a(r.prototype,{constructor:o(t),toString:o("",function(){return this.__name__})}),a(t.prototype,{toString:o(function(){return"Symbol ("+i(this).__description__+")"}),valueOf:o(function(){return i(this)})}),y(t.prototype,t.toPrimitive,o("",function(){var t=i(this);return"symbol"==typeof t?t:t.toString()})),y(t.prototype,t.toStringTag,o("c","Symbol")),y(r.prototype,t.toStringTag,o("c",t.prototype[t.toStringTag])),y(r.prototype,t.toPrimitive,o("c",t.prototype[t.toPrimitive]));
},{"d":"iAJW","./validate-symbol":"g5oG","es5-ext/global":"kFoP","./lib/private/generate-name":"FoH/","./lib/private/setup/standard-symbols":"IqnC","./lib/private/setup/symbol-registry":"XfYV"}],"QUJB":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?require("es5-ext/global").Symbol:require("./polyfill");
},{"./is-implemented":"kKrP","es5-ext/global":"kFoP","./polyfill":"BOeD"}],"VbS+":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString,r=t.call(function(){return arguments}());module.exports=function(e){return t.call(e)===r};
},{}],"j98K":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString,e=t.call("");module.exports=function(o){return"string"==typeof o||o&&"object"==typeof o&&(o instanceof String||t.call(o)===e)||!1};
},{}],"YmvJ":[function(require,module,exports) {
"use strict";var e=require("es5-ext/function/is-arguments"),r=require("es5-ext/object/is-value"),t=require("es5-ext/string/is-string"),i=require("es6-symbol").iterator,s=Array.isArray;module.exports=function(u){return!!r(u)&&(!!s(u)||(!!t(u)||(!!e(u)||"function"==typeof u[i])))};
},{"es5-ext/function/is-arguments":"VbS+","es5-ext/object/is-value":"f648","es5-ext/string/is-string":"j98K","es6-symbol":"QUJB"}],"aHw/":[function(require,module,exports) {
"use strict";var r=require("./is-iterable");module.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e};
},{"./is-iterable":"YmvJ"}],"zW4C":[function(require,module,exports) {
"use strict";var r=require("../value/is"),t=require("../object/is"),e=Object.prototype.toString;module.exports=function(u){if(!r(u))return null;if(t(u)){var n=u.toString;if("function"!=typeof n)return null;if(n===e)return null}try{return""+u}catch(i){return null}};
},{"../value/is":"duF3","../object/is":"Hi/X"}],"2U1L":[function(require,module,exports) {
"use strict";module.exports=function(t){try{return t.toString()}catch(r){try{return String(t)}catch(n){return null}}};
},{}],"bxrE":[function(require,module,exports) {
"use strict";var r=require("./safe-to-string"),e=/[\n\r\u2028\u2029]/g;module.exports=function(t){var n=r(t);return null===n?"<Non-coercible to string value>":(n.length>100&&(n=n.slice(0,99)+"…"),n=n.replace(e,function(r){switch(r){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))};
},{"./safe-to-string":"2U1L"}],"yjQU":[function(require,module,exports) {
"use strict";var r=require("../value/is"),e=require("../object/is"),i=require("../string/coerce"),t=require("./to-short-string"),u=function(r,e){return r.replace("%v",t(e))};module.exports=function(t,n,o){if(!e(o))throw new TypeError(u(n,t));if(!r(t)){if("default"in o)return o.default;if(o.isOptional)return null}var s=i(o.errorMessage);throw r(s)||(s=n),new TypeError(u(s,t))};
},{"../value/is":"duF3","../object/is":"Hi/X","../string/coerce":"zW4C","./to-short-string":"bxrE"}],"NEfH":[function(require,module,exports) {
"use strict";var e=require("../lib/resolve-exception"),r=require("./is");module.exports=function(i){return r(i)?i:e(i,"Cannot use %v",arguments[1])};
},{"../lib/resolve-exception":"yjQU","./is":"duF3"}],"YAsh":[function(require,module,exports) {
"use strict";var e=require("../lib/resolve-exception"),i=require("./is");module.exports=function(r){return i(r)?r:e(r,"%v is not a plain function",arguments[1])};
},{"../lib/resolve-exception":"yjQU","./is":"338Z"}],"P6+E":[function(require,module,exports) {
"use strict";module.exports=function(){var r,o,t=Array.from;return"function"==typeof t&&(o=t(r=["raz","dwa"]),Boolean(o&&o!==r&&"dwa"===o[1]))};
},{}],"1nFM":[function(require,module,exports) {
"use strict";var t=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);module.exports=function(e){return"function"==typeof e&&o(t.call(e))};
},{}],"Qpp/":[function(require,module,exports) {
"use strict";var e=require("es6-symbol").iterator,r=require("../../function/is-arguments"),l=require("../../function/is-function"),i=require("../../number/to-pos-integer"),t=require("../../object/valid-callable"),n=require("../../object/valid-value"),u=require("../../object/is-value"),a=require("../../string/is-string"),o=Array.isArray,s=Function.prototype.call,c={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;module.exports=function(v){var b,g,h,y,d,q,p,A,w,j,m=arguments[1],x=arguments[2];if(v=Object(n(v)),u(m)&&t(m),this&&this!==Array&&l(this))b=this;else{if(!m){if(r(v))return 1!==(d=v.length)?Array.apply(null,v):((y=new Array(1))[0]=v[0],y);if(o(v)){for(y=new Array(d=v.length),g=0;g<d;++g)y[g]=v[g];return y}}y=[]}if(!o(v))if(void 0!==(w=v[e])){for(p=t(w).call(v),b&&(y=new b),A=p.next(),g=0;!A.done;)j=m?s.call(m,x,A.value,g):A.value,b?(c.value=j,f(y,g,c)):y[g]=j,A=p.next(),++g;d=g}else if(a(v)){for(d=v.length,b&&(y=new b),g=0,h=0;g<d;++g)j=v[g],g+1<d&&(q=j.charCodeAt(0))>=55296&&q<=56319&&(j+=v[++g]),j=m?s.call(m,x,j,h):j,b?(c.value=j,f(y,h,c)):y[h]=j,++h;d=h}if(void 0===d)for(d=i(v.length),b&&(y=new b(d)),g=0;g<d;++g)j=m?s.call(m,x,v[g],g):v[g],b?(c.value=j,f(y,g,c)):y[g]=j;return b&&(c.value=null,y.length=d),y};
},{"es6-symbol":"QUJB","../../function/is-arguments":"VbS+","../../function/is-function":"1nFM","../../number/to-pos-integer":"UcXu","../../object/valid-callable":"N9bW","../../object/valid-value":"XtTh","../../object/is-value":"f648","../../string/is-string":"j98K"}],"ARJj":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Array.from:require("./shim");
},{"./is-implemented":"P6+E","./shim":"Qpp/"}],"kqgB":[function(require,module,exports) {
"use strict";var r=require("../array/from"),e=require("./assign"),u=require("./valid-value");module.exports=function(i){var n=Object(u(i)),t=arguments[1],a=Object(arguments[2]);if(n!==i&&!t)return n;var s={};return t?r(t,function(r){(a.ensure||r in i)&&(s[r]=i[r])}):e(s,i),s};
},{"../array/from":"ARJj","./assign":"flj+","./valid-value":"XtTh"}],"dSUt":[function(require,module,exports) {
"use strict";var t=require("./valid-callable"),e=require("./valid-value"),r=Function.prototype.bind,o=Function.prototype.call,n=Object.keys,l=Object.prototype.propertyIsEnumerable;module.exports=function(c,u){return function(i,a){var p,f=arguments[2],y=arguments[3];return i=Object(e(i)),t(a),p=n(i),y&&p.sort("function"==typeof y?r.call(y,i):void 0),"function"!=typeof c&&(c=p[c]),o.call(c,p,function(t,e){return l.call(i,t)?o.call(a,f,i[t],t,i,e):u})}};
},{"./valid-callable":"N9bW","./valid-value":"XtTh"}],"UAcd":[function(require,module,exports) {
"use strict";module.exports=require("./_iterate")("forEach");
},{"./_iterate":"dSUt"}],"d8mM":[function(require,module,exports) {
"use strict";var r=require("./valid-callable"),e=require("./for-each"),l=Function.prototype.call;module.exports=function(t,a){var c={},o=arguments[2];return r(a),e(t,function(r,e,t,u){c[e]=l.call(a,o,r,e,t,u)}),c};
},{"./valid-callable":"N9bW","./for-each":"UAcd"}],"abJG":[function(require,module,exports) {

"use strict";var e,t=require("type/value/is"),r=require("type/value/ensure"),o=require("type/plain-function/ensure"),n=require("es5-ext/object/copy"),i=require("es5-ext/object/normalize-options"),u=require("es5-ext/object/map"),s=Function.prototype.bind,l=Object.defineProperty,a=Object.prototype.hasOwnProperty;e=function(e,t,i){var u,c=r(t)&&o(t.value);return delete(u=n(t)).writable,delete u.value,u.get=function(){return!i.overwriteDefinition&&a.call(this,e)?c:(t.value=s.call(c,i.resolveContext?i.resolveContext(this):this),l(this,e,t),this[e])},u},module.exports=function(r){var n=i(arguments[1]);return t(n.resolveContext)&&o(n.resolveContext),u(r,function(t,r){return e(r,t,n)})};
},{"type/value/is":"duF3","type/value/ensure":"NEfH","type/plain-function/ensure":"YAsh","es5-ext/object/copy":"kqgB","es5-ext/object/normalize-options":"1uac","es5-ext/object/map":"d8mM"}],"Itm6":[function(require,module,exports) {
"use strict";var _,e=require("es5-ext/array/#/clear"),t=require("es5-ext/object/assign"),i=require("es5-ext/object/valid-callable"),n=require("es5-ext/object/valid-value"),o=require("d"),r=require("d/auto-bind"),s=require("es6-symbol"),d=Object.defineProperty,h=Object.defineProperties;module.exports=_=function(e,t){if(!(this instanceof _))throw new TypeError("Constructor requires 'new'");h(this,{__list__:o("w",n(e)),__context__:o("w",t),__nextIndex__:o("w",0)}),t&&(i(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete _.prototype.constructor,h(_.prototype,t({_next:o(function(){var _;if(this.__list__)return this.__redo__&&void 0!==(_=this.__redo__.shift())?_:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:o(function(){return this._createResult(this._next())}),_createResult:o(function(_){return void 0===_?{done:!0,value:void 0}:{done:!1,value:this._resolve(_)}}),_resolve:o(function(_){return this.__list__[_]}),_unBind:o(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:o(function(){return"[object "+(this[s.toStringTag]||"Object")+"]"})},r({_onAdd:o(function(_){_>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,t){e>=_&&(this.__redo__[t]=++e)},this),this.__redo__.push(_)):d(this,"__redo__",o("c",[_])))}),_onDelete:o(function(_){var e;_>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(_))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){e>_&&(this.__redo__[t]=--e)},this)))}),_onClear:o(function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0})}))),d(_.prototype,s.iterator,o(function(){return this}));
},{"es5-ext/array/#/clear":"gYQs","es5-ext/object/assign":"flj+","es5-ext/object/valid-callable":"N9bW","es5-ext/object/valid-value":"XtTh","d":"iAJW","d/auto-bind":"abJG","es6-symbol":"QUJB"}],"IPxs":[function(require,module,exports) {
"use strict";var e,t=require("es5-ext/object/set-prototype-of"),r=require("es5-ext/string/#/contains"),o=require("d"),i=require("es6-symbol"),s=require("./"),_=Object.defineProperty;e=module.exports=function(t,i){if(!(this instanceof e))throw new TypeError("Constructor requires 'new'");s.call(this,t),i=i?r.call(i,"key+value")?"key+value":r.call(i,"key")?"key":"value":"value",_(this,"__kind__",o("",i))},t&&t(e,s),delete e.prototype.constructor,e.prototype=Object.create(s.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),_(e.prototype,i.toStringTag,o("c","Array Iterator"));
},{"es5-ext/object/set-prototype-of":"Nec0","es5-ext/string/#/contains":"z+/R","d":"iAJW","es6-symbol":"QUJB","./":"Itm6"}],"Dhst":[function(require,module,exports) {
"use strict";var t,e=require("es5-ext/object/set-prototype-of"),_=require("d"),r=require("es6-symbol"),i=require("./"),n=Object.defineProperty;t=module.exports=function(e){if(!(this instanceof t))throw new TypeError("Constructor requires 'new'");e=String(e),i.call(this,e),n(this,"__length__",_("",e.length))},e&&e(t,i),delete t.prototype.constructor,t.prototype=Object.create(i.prototype,{_next:_(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:_(function(t){var e,_=this.__list__[t];return this.__nextIndex__===this.__length__?_:(e=_.charCodeAt(0))>=55296&&e<=56319?_+this.__list__[this.__nextIndex__++]:_})}),n(t.prototype,r.toStringTag,_("c","String Iterator"));
},{"es5-ext/object/set-prototype-of":"Nec0","d":"iAJW","es6-symbol":"QUJB","./":"Itm6"}],"XFbI":[function(require,module,exports) {
"use strict";var e=require("es5-ext/function/is-arguments"),r=require("es5-ext/string/is-string"),i=require("./array"),t=require("./string"),n=require("./valid-iterable"),s=require("es6-symbol").iterator;module.exports=function(u){return"function"==typeof n(u)[s]?u[s]():e(u)?new i(u):r(u)?new t(u):new i(u)};
},{"es5-ext/function/is-arguments":"VbS+","es5-ext/string/is-string":"j98K","./array":"IPxs","./string":"Dhst","./valid-iterable":"aHw/","es6-symbol":"QUJB"}],"VtyO":[function(require,module,exports) {
"use strict";var e=require("es5-ext/function/is-arguments"),r=require("es5-ext/object/valid-callable"),t=require("es5-ext/string/is-string"),i=require("./get"),n=Array.isArray,a=Function.prototype.call,l=Array.prototype.some;module.exports=function(o,s){var u,c,f,g,y,x,p,d,q=arguments[2];if(n(o)||e(o)?u="array":t(o)?u="string":o=i(o),r(s),f=function(){g=!0},"array"!==u)if("string"!==u)for(c=o.next();!c.done;){if(a.call(s,q,c.value,f),g)return;c=o.next()}else for(x=o.length,y=0;y<x&&(p=o[y],y+1<x&&(d=p.charCodeAt(0))>=55296&&d<=56319&&(p+=o[++y]),a.call(s,q,p,f),!g);++y);else l.call(o,function(e){return a.call(s,q,e,f),g})};
},{"es5-ext/function/is-arguments":"VbS+","es5-ext/object/valid-callable":"N9bW","es5-ext/string/is-string":"j98K","./get":"XFbI"}],"8BuV":[function(require,module,exports) {
"use strict";var r=Array.prototype.forEach,t=Object.create;module.exports=function(e){var c=t(null);return r.call(arguments,function(r){c[r]=!0}),c};
},{}],"d4hK":[function(require,module,exports) {
"use strict";module.exports=require("es5-ext/object/primitive-set")("key","value","key+value");
},{"es5-ext/object/primitive-set":"8BuV"}],"vpDN":[function(require,module,exports) {
"use strict";var t,e=require("es5-ext/object/set-prototype-of"),_=require("d"),r=require("es6-iterator"),i=require("es6-symbol").toStringTag,o=require("./iterator-kinds"),s=Object.defineProperties,n=r.prototype._unBind;t=module.exports=function(e,i){if(!(this instanceof t))return new t(e,i);r.call(this,e.__mapKeysData__,e),i&&o[i]||(i="key+value"),s(this,{__kind__:_("",i),__values__:_("w",e.__mapValuesData__)})},e&&e(t,r),t.prototype=Object.create(r.prototype,{constructor:_(t),_resolve:_(function(t){return"value"===this.__kind__?this.__values__[t]:"key"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__values__[t]]}),_unBind:_(function(){this.__values__=null,n.call(this)}),toString:_(function(){return"[object Map Iterator]"})}),Object.defineProperty(t.prototype,i,_("c","Map Iterator"));
},{"es5-ext/object/set-prototype-of":"Nec0","d":"iAJW","es6-iterator":"Itm6","es6-symbol":"QUJB","./iterator-kinds":"d4hK"}],"byGN":[function(require,module,exports) {
"use strict";module.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map);
},{}],"+4I6":[function(require,module,exports) {
"use strict";var e,t=require("es5-ext/array/#/clear"),a=require("es5-ext/array/#/e-index-of"),r=require("es5-ext/object/set-prototype-of"),i=require("es5-ext/object/valid-callable"),s=require("es5-ext/object/valid-value"),_=require("d"),n=require("event-emitter"),o=require("es6-symbol"),u=require("es6-iterator/valid-iterable"),l=require("es6-iterator/for-of"),c=require("./lib/iterator"),p=require("./is-native-implemented"),h=Function.prototype.call,y=Object.defineProperties,f=Object.getPrototypeOf;module.exports=e=function(){var t,i,n,o=arguments[0];if(!(this instanceof e))throw new TypeError("Constructor requires 'new'");return n=p&&r&&Map!==e?r(new Map,f(this)):this,null!=o&&u(o),y(n,{__mapKeysData__:_("c",t=[]),__mapValuesData__:_("c",i=[])}),o?(l(o,function(e){var r=s(e)[0];e=e[1],-1===a.call(t,r)&&(t.push(r),i.push(e))},n),n):n},p&&(r&&r(e,Map),e.prototype=Object.create(Map.prototype,{constructor:_(e)})),n(y(e.prototype,{clear:_(function(){this.__mapKeysData__.length&&(t.call(this.__mapKeysData__),t.call(this.__mapValuesData__),this.emit("_clear"))}),delete:_(function(e){var t=a.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:_(function(){return new c(this,"key+value")}),forEach:_(function(e){var t,a,r=arguments[1];for(i(e),a=(t=this.entries())._next();void 0!==a;)h.call(e,r,this.__mapValuesData__[a],this.__mapKeysData__[a],this),a=t._next()}),get:_(function(e){var t=a.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:_(function(e){return-1!==a.call(this.__mapKeysData__,e)}),keys:_(function(){return new c(this,"key")}),set:_(function(e,t){var r,i=a.call(this.__mapKeysData__,e);return-1===i&&(i=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[i]=t,r&&this.emit("_add",i,e),this}),size:_.gs(function(){return this.__mapKeysData__.length}),values:_(function(){return new c(this,"value")}),toString:_(function(){return"[object Map]"})})),Object.defineProperty(e.prototype,o.iterator,_(function(){return this.entries()})),Object.defineProperty(e.prototype,o.toStringTag,_("c","Map"));
},{"es5-ext/array/#/clear":"gYQs","es5-ext/array/#/e-index-of":"xmo4","es5-ext/object/set-prototype-of":"Nec0","es5-ext/object/valid-callable":"N9bW","es5-ext/object/valid-value":"XtTh","d":"iAJW","event-emitter":"PR/g","es6-symbol":"QUJB","es6-iterator/valid-iterable":"aHw/","es6-iterator/for-of":"VtyO","./lib/iterator":"vpDN","./is-native-implemented":"byGN"}],"Sgzi":[function(require,module,exports) {
"use strict";module.exports=require("./is-implemented")()?Map:require("./polyfill");
},{"./is-implemented":"aVXY","./polyfill":"+4I6"}],"Ba9l":[function(require,module,exports) {
var process = require("process");
var t=require("process"),e=require("xtend"),i=require("readable-stream").Readable,n={objectMode:!0},s={clean:!0},r=require("es6-map");function o(t){if(!(this instanceof o))return new o(t);this.options=t||{},this.options=e(s,t),this._inflights=new r}o.prototype.put=function(t,e){return this._inflights.set(t.messageId,t),e&&e(),this},o.prototype.createStream=function(){var e=new i(n),s=!1,r=[],o=0;return this._inflights.forEach(function(t,e){r.push(t)}),e._read=function(){!s&&o<r.length?this.push(r[o++]):this.push(null)},e.destroy=function(){if(!s){var e=this;s=!0,t.nextTick(function(){e.emit("close")})}},e},o.prototype.del=function(t,e){return(t=this._inflights.get(t.messageId))?(this._inflights.delete(t.messageId),e(null,t)):e&&e(new Error("missing packet")),this},o.prototype.get=function(t,e){return(t=this._inflights.get(t.messageId))?e(null,t):e&&e(new Error("missing packet")),this},o.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},module.exports=o;
},{"xtend":"K5Tb","readable-stream":"tzeh","es6-map":"Sgzi","process":"pBGv"}],"kT1X":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"Hba+"}],"vexR":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"tcrG":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"gfUn":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"vexR","inherits":"tcrG","process":"pBGv"}],"oJqS":[function(require,module,exports) {

var t=require("readable-stream/duplex"),e=require("util"),n=require("safe-buffer").Buffer;function i(e){if(!(this instanceof i))return new i(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var n=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",n)}),this.on("unpipe",function(t){t.removeListener("error",n)})}else this.append(e);t.call(this)}e.inherits(i,t),i.prototype._offset=function(t){var e,n=0,i=0;if(0===t)return[0,0];for(;i<this._bufs.length;i++){if(t<(e=n+this._bufs[i].length)||i==this._bufs.length-1)return[i,t-n];n=e}},i.prototype.append=function(t){var e=0;if(n.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof i)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(n.from(t)));return this},i.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},i.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},i.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},i.prototype.end=function(e){t.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype.get=function(t){return this.slice(t,t+1)[0]},i.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},i.prototype.copy=function(t,e,i,s){if(("number"!=typeof i||i<0)&&(i=0),("number"!=typeof s||s>this.length)&&(s=this.length),i>=this.length)return t||n.alloc(0);if(s<=0)return t||n.alloc(0);var r,h,f=!!t,o=this._offset(i),u=s-i,l=u,p=f&&e||0,a=o[1];if(0===i&&s==this.length){if(!f)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(h=0;h<this._bufs.length;h++)this._bufs[h].copy(t,p),p+=this._bufs[h].length;return t}if(l<=this._bufs[o[0]].length-a)return f?this._bufs[o[0]].copy(t,e,a,a+l):this._bufs[o[0]].slice(a,a+l);for(f||(t=n.allocUnsafe(u)),h=o[0];h<this._bufs.length;h++){if(!(l>(r=this._bufs[h].length-a))){this._bufs[h].copy(t,p,a,a+l);break}this._bufs[h].copy(t,p,a),p+=r,l-=r,a&&(a=0)}return t},i.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var n=this._offset(t),s=this._offset(e),r=this._bufs.slice(n[0],s[0]+1);return 0==s[1]?r.pop():r[r.length-1]=r[r.length-1].slice(0,s[1]),0!=n[1]&&(r[0]=r[0].slice(n[1])),new i(r)},i.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},i.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){for(var t=0,e=new i;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},i.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){i.prototype[e]=function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),module.exports=i;
},{"readable-stream/duplex":"kT1X","util":"gfUn","safe-buffer":"38Wu"}],"3U0G":[function(require,module,exports) {
function t(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}module.exports=t;
},{}],"fiat":[function(require,module,exports) {

"use strict";var e=require("safe-buffer").Buffer,r=module.exports;for(var i in r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={},r.types){var n=r.types[i];r.codes[n]=i}for(var t in r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.LENGTH_MASK=127,r.LENGTH_FIN_MASK=128,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=e.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=e.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=e.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={},r.properties){var s=r.properties[t];r.propertiesCodes[s]=t}function a(i){return[0,1,2].map(function(n){return[0,1].map(function(t){return[0,1].map(function(s){var a=e.alloc(1);return a.writeUInt8(r.codes[i]<<r.CMD_SHIFT|(t?r.DUP_MASK:0)|n<<r.QOS_SHIFT|s,0,!0),a})})})}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=a("publish"),r.SUBSCRIBE_HEADER=a("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=a("unsubscribe"),r.ACKS={unsuback:a("unsuback"),puback:a("puback"),pubcomp:a("pubcomp"),pubrel:a("pubrel"),pubrec:a("pubrec")},r.SUBACK_HEADER=e.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=e.from([3]),r.VERSION4=e.from([4]),r.VERSION5=e.from([5]),r.QOS=[0,1,2].map(function(r){return e.from([r])}),r.EMPTY={pingreq:e.from([r.codes.pingreq<<4,0]),pingresp:e.from([r.codes.pingresp<<4,0]),disconnect:e.from([r.codes.disconnect<<4,0])};
},{"safe-buffer":"38Wu"}],"ROid":[function(require,module,exports) {
"use strict";var t=require("bl"),e=require("inherits"),r=require("events").EventEmitter,s=require("./packet"),i=require("./constants");function o(t){if(!(this instanceof o))return new o(t);this.settings=t||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}e(o,r),o.prototype._resetState=function(){this.packet=new s,this.error=null,this._list=t(),this._stateCounter=0},o.prototype.parse=function(t){for(this.error&&this._resetState(),this._list.append(t);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},o.prototype._parseHeader=function(){var t=this._list.readUInt8(0);return this.packet.cmd=i.types[t>>i.CMD_SHIFT],this.packet.retain=0!=(t&i.RETAIN_MASK),this.packet.qos=t>>i.QOS_SHIFT&i.QOS_MASK,this.packet.dup=0!=(t&i.DUP_MASK),this._list.consume(1),!0},o.prototype._parseLength=function(){var t=this._parseVarByteNum(!0);return t&&(this.packet.length=t.value,this._list.consume(t.bytes)),!!t},o.prototype._parsePayload=function(){var t=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}t=!0}return t},o.prototype._parseConnect=function(){var t,e,r,s,o,n,p={},a=this.packet;if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==t&&"MQIsdp"!==t)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=t,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),3!==a.protocolVersion&&4!==a.protocolVersion&&5!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,p.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,p.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK,p.will&&(a.will={},a.will.retain=0!=(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),a.will.qos=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT),a.clean=0!=(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),-1===a.keepalive)return this._emitError(new Error("Packet too short"));if(5===a.protocolVersion){var h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}if(null===(e=this._parseString()))return this._emitError(new Error("Packet too short"));if(a.clientId=e,p.will){if(5===a.protocolVersion){var _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(a.will.properties=_)}if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=r,null===(s=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));a.will.payload=s}if(p.username){if(null===(n=this._parseString()))return this._emitError(new Error("Cannot parse username"));a.username=n}if(p.password){if(null===(o=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));a.password=o}return this.settings=a,a},o.prototype._parseConnack=function(){var t=this.packet;if(this._list.length<2)return null;if(t.sessionPresent=!!(this._list.readUInt8(this._pos++)&i.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?t.reasonCode=this._list.readUInt8(this._pos++):t.returnCode=this._list.readUInt8(this._pos++),-1===t.returnCode||-1===t.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}},o.prototype._parsePublish=function(){var t=this.packet;if(t.topic=this._parseString(),null===t.topic)return this._emitError(new Error("Cannot parse topic"));if(!(t.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}t.payload=this._list.slice(this._pos,t.length)}},o.prototype._parseSubscribe=function(){var t,e,r,s,o,n,p,a=this.packet;if(1!==a.qos)return this._emitError(new Error("Wrong subscribe header"));if(a.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var h=this._parseProperties();Object.getOwnPropertyNames(h).length&&(a.properties=h)}for(;this._pos<a.length;){if(null===(t=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=(e=this._parseByte())&i.SUBSCRIBE_OPTIONS_QOS_MASK,n=0!=(e>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(e>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK),s=e>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,p={topic:t,qos:r},5===this.settings.protocolVersion&&(p.nl=n,p.rap=o,p.rh=s),a.subscriptions.push(p)}}},o.prototype._parseSuback=function(){var t=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},o.prototype._parseUnsubscribe=function(){var t=this.packet;if(t.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}for(;this._pos<t.length;){var r;if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse topic"));t.unsubscriptions.push(r)}}},o.prototype._parseUnsuback=function(){var t=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var e=this._parseProperties();for(Object.getOwnPropertyNames(e).length&&(t.properties=e),t.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},o.prototype._parseConfirmation=function(){var t=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&t.length>2){t.reasonCode=this._parseByte();var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0},o.prototype._parseDisconnect=function(){var t=this.packet;if(5===this.settings.protocolVersion){t.reasonCode=this._parseByte();var e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(t.properties=e)}return!0},o.prototype._parseAuth=function(){var t=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));t.reasonCode=this._parseByte();var e=this._parseProperties();return Object.getOwnPropertyNames(e).length&&(t.properties=e),!0},o.prototype._parseMessageId=function(){var t=this.packet;return t.messageId=this._parseNum(),null!==t.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},o.prototype._parseString=function(t){var e,r=this._parseNum(),s=r+this._pos;return-1===r||s>this._list.length||s>this.packet.length?null:(e=this._list.toString("utf8",this._pos,s),this._pos+=r,e)},o.prototype._parseStringPair=function(){return{name:this._parseString(),value:this._parseString()}},o.prototype._parseBuffer=function(){var t,e=this._parseNum(),r=e+this._pos;return-1===e||r>this._list.length||r>this.packet.length?null:(t=this._list.slice(this._pos,r),this._pos+=e,t)},o.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var t=this._list.readUInt16BE(this._pos);return this._pos+=2,t},o.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var t=this._list.readUInt32BE(this._pos);return this._pos+=4,t},o.prototype._parseVarByteNum=function(t){for(var e,r=0,s=1,o=0,n=!0,p=this._pos?this._pos:0;r<5&&(o+=s*((e=this._list.readUInt8(p+r++))&i.LENGTH_MASK),s*=128,0!=(e&i.LENGTH_FIN_MASK));)if(this._list.length<=r){n=!1;break}return p&&(this._pos+=r),n=!!n&&(t?{bytes:r,value:o}:o)},o.prototype._parseByte=function(){var t=this._list.readUInt8(this._pos);return this._pos++,t},o.prototype._parseByType=function(t){switch(t){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},o.prototype._parseProperties=function(){for(var t=this._parseVarByteNum(),e=this._pos+t,r={};this._pos<e;){var s=this._parseByte(),o=i.propertiesCodes[s];if(!o)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==o)r[o]?Array.isArray(r[o])?r[o].push(this._parseByType(i.propertiesTypes[o])):(r[o]=[r[o]],r[o].push(this._parseByType(i.propertiesTypes[o]))):r[o]=this._parseByType(i.propertiesTypes[o]);else{r[o]||(r[o]={});var n=this._parseByType(i.propertiesTypes[o]);if(r[o][n.name])if(Array.isArray(r[o][n.name]))r[o][n.name].push(n.value);else{var p=r[o][n.name];r[o][n.name]=[p],r[o][n.name].push(n.value)}else r[o][n.name]=n.value}}return r},o.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new s,this._pos=0,!0},o.prototype._emitError=function(t){this.error=t,this.emit("error",t)},module.exports=o;
},{"bl":"oJqS","inherits":"4Bm0","events":"FRpO","./packet":"3U0G","./constants":"fiat"}],"4Qvs":[function(require,module,exports) {

"use strict";var e=require("safe-buffer").Buffer,r=65536,t={};function n(r){var t=e.allocUnsafe(2);return t.writeUInt8(r>>8,0),t.writeUInt8(255&r,1),t}function a(){for(var e=0;e<r;e++)t[e]=n(e)}function f(e){return e>=0&&e<128?1:e>=128&&e<16384?2:e>=16384&&e<2097152?3:e>=2097152&&e<268435456?4:0}function u(r){var t=0,n=0,a=f(r),u=e.allocUnsafe(a);do{t=r%128|0,(r=r/128|0)>0&&(t|=128),u.writeUInt8(t,n++)}while(r>0);return{data:u,length:a}}function i(r){var t=e.allocUnsafe(4);return t.writeUInt32BE(r,0),t}module.exports={cache:t,generateCache:a,generateNumber:n,genBufVariableByteInt:u,generate4ByteBuffer:i};
},{"safe-buffer":"38Wu"}],"Vmn8":[function(require,module,exports) {

"use strict";var r=require("./constants"),e=require("safe-buffer").Buffer,t=e.allocUnsafe(0),n=e.from([0]),i=require("./numbers"),o=require("process-nextick-args").nextTick,a=i.cache,u=i.generateNumber,s=i.generateCache,f=i.genBufVariableByteInt,l=i.generate4ByteBuffer,c=R,p=!0;function m(r,e,t){switch(e.cork&&(e.cork(),o(w,e)),p&&(p=!1,s()),r.cmd){case"connect":return d(r,e,t);case"connack":return v(r,e,t);case"publish":return g(r,e,t);case"puback":case"pubrec":case"pubrel":case"pubcomp":return b(r,e,t);case"subscribe":return y(r,e,t);case"suback":return E(r,e,t);case"unsubscribe":return I(r,e,t);case"unsuback":return h(r,e,t);case"pingreq":case"pingresp":return S(r,e,t);case"disconnect":return A(r,e,t);case"auth":return k(r,e,t);default:return e.emit("error",new Error("Unknown command")),!1}}function w(r){r.uncork()}function d(t,n,i){var o=t||{},a=o.protocolId||"MQTT",u=o.protocolVersion||4,s=o.will,f=o.clean,l=o.keepalive||0,p=o.clientId||"",m=o.username,w=o.password,d=o.properties;void 0===f&&(f=!0);var v=0;if(!a||"string"!=typeof a&&!e.isBuffer(a))return n.emit("error",new Error("Invalid protocolId")),!1;if(v+=a.length+2,3!==u&&4!==u&&5!==u)return n.emit("error",new Error("Invalid protocol version")),!1;if(v+=1,"string"!=typeof p&&!e.isBuffer(p)||!p&&4!==u||!p&&!f){if(u<4)return n.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*f==0)return n.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else v+=p.length+2;if("number"!=typeof l||l<0||l>65535||l%1!=0)return n.emit("error",new Error("Invalid keepalive")),!1;if(v+=2,v+=1,5===u){var g=q(n,d);v+=g.length}if(s){if("object"!=typeof s)return n.emit("error",new Error("Invalid will")),!1;if(!s.topic||"string"!=typeof s.topic)return n.emit("error",new Error("Invalid will topic")),!1;if(v+=e.byteLength(s.topic)+2,v+=2,s.payload){if(!(s.payload.length>=0))return n.emit("error",new Error("Invalid will payload")),!1;"string"==typeof s.payload?v+=e.byteLength(s.payload):v+=s.payload.length}var b={};5===u&&(v+=(b=q(n,s.properties)).length)}var y=!1;if(null!=m){if(!M(m))return n.emit("error",new Error("Invalid username")),!1;y=!0,v+=e.byteLength(m)+2}if(null!=w){if(!y)return n.emit("error",new Error("Username is required to use password")),!1;if(!M(w))return n.emit("error",new Error("Invalid password")),!1;v+=V(w)+2}n.write(r.CONNECT_HEADER),L(n,v),C(n,a),n.write(4===u?r.VERSION4:5===u?r.VERSION5:r.VERSION3);var E=0;return E|=null!=m?r.USERNAME_MASK:0,E|=null!=w?r.PASSWORD_MASK:0,E|=s&&s.retain?r.WILL_RETAIN_MASK:0,E|=s&&s.qos?s.qos<<r.WILL_QOS_SHIFT:0,E|=s?r.WILL_FLAG_MASK:0,E|=f?r.CLEAN_SESSION_MASK:0,n.write(e.from([E])),c(n,l),5===u&&g.write(),C(n,p),s&&(5===u&&b.write(),N(n,s.topic),C(n,s.payload)),null!=m&&C(n,m),null!=w&&C(n,w),!0}function v(t,i,o){var a=o?o.protocolVersion:4,u=t||{},s=5===a?u.reasonCode:u.returnCode,f=u.properties,l=2;if("number"!=typeof s)return i.emit("error",new Error("Invalid return code")),!1;var c=null;return 5===a&&(l+=(c=q(i,f)).length),i.write(r.CONNACK_HEADER),L(i,l),i.write(u.sessionPresent?r.SESSIONPRESENT_HEADER:n),i.write(e.from([s])),null!=c&&c.write(),!0}function g(n,i,o){var a=o?o.protocolVersion:4,u=n||{},s=u.qos||0,f=u.retain?r.RETAIN_MASK:0,l=u.topic,p=u.payload||t,m=u.messageId,w=u.properties,d=0;if("string"==typeof l)d+=e.byteLength(l)+2;else{if(!e.isBuffer(l))return i.emit("error",new Error("Invalid topic")),!1;d+=l.length+2}if(e.isBuffer(p)?d+=p.length:d+=e.byteLength(p),s&&"number"!=typeof m)return i.emit("error",new Error("Invalid messageId")),!1;s&&(d+=2);var v=null;return 5===a&&(d+=(v=q(i,w)).length),i.write(r.PUBLISH_HEADER[s][u.dup?1:0][f?1:0]),L(i,d),c(i,V(l)),i.write(l),s>0&&c(i,m),null!=v&&v.write(),i.write(p)}function b(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.cmd||"puback",s=a.messageId,f=a.dup&&"pubrel"===u?r.DUP_MASK:0,l=0,p=a.reasonCode,m=a.properties,w=5===o?3:2;if("pubrel"===u&&(l=1),"number"!=typeof s)return n.emit("error",new Error("Invalid messageId")),!1;var d=null;if(5===o){if(!(d=U(n,m,i,w)))return!1;w+=d.length}return n.write(r.ACKS[u][l][f][0]),L(n,w),c(n,s),5===o&&n.write(e.from([p])),null!==d&&d.write(),!0}function y(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.dup?r.DUP_MASK:0,s=a.messageId,f=a.subscriptions,l=a.properties,p=0;if("number"!=typeof s)return n.emit("error",new Error("Invalid messageId")),!1;p+=2;var m=null;if(5===o&&(p+=(m=q(n,l)).length),"object"!=typeof f||!f.length)return n.emit("error",new Error("Invalid subscriptions")),!1;for(var w=0;w<f.length;w+=1){var d=f[w].topic,v=f[w].qos;if("string"!=typeof d)return n.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof v)return n.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===o){if("boolean"!=typeof(f[w].nl||!1))return n.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(f[w].rap||!1))return n.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var g=f[w].rh||0;if("number"!=typeof g||g>2)return n.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}p+=e.byteLength(d)+2+1}n.write(r.SUBSCRIBE_HEADER[1][u?1:0][0]),L(n,p),c(n,s),null!==m&&m.write();for(var b=!0,y=0;y<f.length;y++){var E,I=f[y],h=I.topic,S=I.qos,A=+I.nl,k=+I.rap,_=I.rh;N(n,h),E=r.SUBSCRIBE_OPTIONS_QOS[S],5===o&&(E|=A?r.SUBSCRIBE_OPTIONS_NL:0,E|=k?r.SUBSCRIBE_OPTIONS_RAP:0,E|=_?r.SUBSCRIBE_OPTIONS_RH[_]:0),b=n.write(e.from([E]))}return b}function E(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.messageId,s=a.granted,f=a.properties,l=0;if("number"!=typeof u)return n.emit("error",new Error("Invalid messageId")),!1;if(l+=2,"object"!=typeof s||!s.length)return n.emit("error",new Error("Invalid qos vector")),!1;for(var p=0;p<s.length;p+=1){if("number"!=typeof s[p])return n.emit("error",new Error("Invalid qos vector")),!1;l+=1}var m=null;if(5===o){if(!(m=U(n,f,i,l)))return!1;l+=m.length}return n.write(r.SUBACK_HEADER),L(n,l),c(n,u),null!==m&&m.write(),n.write(e.from(s))}function I(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.messageId,s=a.dup?r.DUP_MASK:0,f=a.unsubscriptions,l=a.properties,p=0;if("number"!=typeof u)return n.emit("error",new Error("Invalid messageId")),!1;if(p+=2,"object"!=typeof f||!f.length)return n.emit("error",new Error("Invalid unsubscriptions")),!1;for(var m=0;m<f.length;m+=1){if("string"!=typeof f[m])return n.emit("error",new Error("Invalid unsubscriptions")),!1;p+=e.byteLength(f[m])+2}var w=null;5===o&&(p+=(w=q(n,l)).length),n.write(r.UNSUBSCRIBE_HEADER[1][s?1:0][0]),L(n,p),c(n,u),null!==w&&w.write();for(var d=!0,v=0;v<f.length;v++)d=N(n,f[v]);return d}function h(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.messageId,s=a.dup?r.DUP_MASK:0,f=a.granted,l=a.properties,p=a.cmd,m=2;if("number"!=typeof u)return n.emit("error",new Error("Invalid messageId")),!1;if(5===o){if("object"!=typeof f||!f.length)return n.emit("error",new Error("Invalid qos vector")),!1;for(var w=0;w<f.length;w+=1){if("number"!=typeof f[w])return n.emit("error",new Error("Invalid qos vector")),!1;m+=1}}var d=null;if(5===o){if(!(d=U(n,l,i,m)))return!1;m+=d.length}return n.write(r.ACKS[p][0][s][0]),L(n,m),c(n,u),null!==d&&d.write(),5===o&&n.write(e.from(f)),!0}function S(e,t,n){return t.write(r.EMPTY[e.cmd])}function A(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.reasonCode,s=a.properties,f=5===o?1:0,l=null;if(5===o){if(!(l=U(n,s,i,f)))return!1;f+=l.length}return n.write(e.from([r.codes.disconnect<<4])),L(n,f),5===o&&n.write(e.from([u])),null!==l&&l.write(),!0}function k(t,n,i){var o=i?i.protocolVersion:4,a=t||{},u=a.reasonCode,s=a.properties,f=5===o?1:0;5!==o&&n.emit("error",new Error("Invalid mqtt version for auth packet"));var l=U(n,s,i,f);return!!l&&(f+=l.length,n.write(e.from([r.codes.auth<<4])),L(n,f),n.write(e.from([u])),null!==l&&l.write(),!0)}Object.defineProperty(m,"cacheNumbers",{get:function(){return c===R},set:function(r){r?(a&&0!==Object.keys(a).length||(p=!0),c=R):(p=!1,c=B)}});var _={};function L(r,e){var t=_[e];t||(t=f(e).data,e<16384&&(_[e]=t)),r.write(t)}function N(r,t){var n=e.byteLength(t);c(r,n),r.write(t,"utf8")}function O(r,e,t){N(r,e),N(r,t)}function R(r,e){return r.write(a[e])}function B(r,e){return r.write(u(e))}function P(r,e){return r.write(l(e))}function C(r,e){"string"==typeof e?N(r,e):e?(c(r,e.length),r.write(e)):c(r,0)}function q(t,n){if("object"!=typeof n||null!=n.length)return{length:1,write:function(){K(t,{},0)}};var i=0;function o(n,i){var o=0;switch(r.propertiesTypes[n]){case"byte":if("boolean"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=2;break;case"int8":if("number"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=2;break;case"binary":if(i&&null===i)return t.emit("error",new Error("Invalid "+n)),!1;o+=1+e.byteLength(i)+2;break;case"int16":if("number"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=3;break;case"int32":if("number"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=5;break;case"var":if("number"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=1+f(i).length;break;case"string":if("string"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=3+e.byteLength(i.toString());break;case"pair":if("object"!=typeof i)return t.emit("error",new Error("Invalid "+n)),!1;o+=Object.getOwnPropertyNames(i).reduce(function(r,t){var n=i[t];return Array.isArray(n)?r+=n.reduce(function(r,n){return r+=3+e.byteLength(t.toString())+2+e.byteLength(n.toString())},0):r+=3+e.byteLength(t.toString())+2+e.byteLength(i[t].toString()),r},0);break;default:return t.emit("error",new Error("Invalid property "+n)),!1}return o}if(n)for(var a in n){var u=0,s=n[a];if(Array.isArray(s))for(var l=0;l<s.length;l++)u+=o(a,s[l]);else u=o(a,s);if(!u)return!1;i+=u}return{length:f(i).length+i,write:function(){K(t,n,i)}}}function U(r,e,t,n){var i=["reasonString","userProperties"],o=t&&t.properties&&t.properties.maximumPacketSize?t.properties.maximumPacketSize:0,a=q(r,e);if(o)for(;n+a.length>o;){var u=i.shift();if(!u||!e[u])return!1;delete e[u],a=q(r,e)}return a}function T(t,n,i){switch(r.propertiesTypes[n]){case"byte":t.write(e.from([r.properties[n]])),t.write(e.from([+i]));break;case"int8":t.write(e.from([r.properties[n]])),t.write(e.from([i]));break;case"binary":t.write(e.from([r.properties[n]])),C(t,i);break;case"int16":t.write(e.from([r.properties[n]])),c(t,i);break;case"int32":t.write(e.from([r.properties[n]])),P(t,i);break;case"var":t.write(e.from([r.properties[n]])),L(t,i);break;case"string":t.write(e.from([r.properties[n]])),N(t,i);break;case"pair":Object.getOwnPropertyNames(i).forEach(function(o){var a=i[o];Array.isArray(a)?a.forEach(function(i){t.write(e.from([r.properties[n]])),O(t,o.toString(),i.toString())}):(t.write(e.from([r.properties[n]])),O(t,o.toString(),a.toString()))});break;default:return t.emit("error",new Error("Invalid property "+n+" value: "+i)),!1}}function K(r,e,t){for(var n in L(r,t),e)if(e.hasOwnProperty(n)&&null!==e[n]){var i=e[n];if(Array.isArray(i))for(var o=0;o<i.length;o++)T(r,n,i[o]);else T(r,n,i)}}function V(r){return r?r instanceof e?r.length:e.byteLength(r):0}function M(r){return"string"==typeof r||r instanceof e}module.exports=m;
},{"./constants":"fiat","safe-buffer":"38Wu","./numbers":"4Qvs","process-nextick-args":"Yj0v"}],"cP0M":[function(require,module,exports) {

"use strict";var r=require("safe-buffer").Buffer,t=require("./writeToStream"),e=require("events").EventEmitter,i=require("inherits");function n(r,e){var i=new o;return t(r,i,e),i.concat()}function o(){this._array=new Array(20),this._i=0}i(o,e),o.prototype.write=function(r){return this._array[this._i++]=r,!0},o.prototype.concat=function(){var t,e,i=0,n=new Array(this._array.length),o=this._array,a=0;for(t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?n[t]=o[t].length:n[t]=r.byteLength(o[t]),i+=n[t];for(e=r.allocUnsafe(i),t=0;t<o.length&&void 0!==o[t];t++)"string"!=typeof o[t]?(o[t].copy(e,a),a+=n[t]):(e.write(o[t],a),a+=n[t]);return e},module.exports=n;
},{"safe-buffer":"38Wu","./writeToStream":"Vmn8","events":"FRpO","inherits":"4Bm0"}],"pBtw":[function(require,module,exports) {
"use strict";exports.parser=require("./parser"),exports.generate=require("./generate"),exports.writeToStream=require("./writeToStream");
},{"./parser":"ROid","./generate":"cP0M","./writeToStream":"Vmn8"}],"Ftzq":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=this;this._callback=e,this._args=t,this._interval=setInterval(e,r,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}function r(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var r;if(arguments.length>0){r=new Array(arguments.length-2);for(var t=0;t<r.length;t++)r[t]=arguments[t+2]}return new e(arguments[0],arguments[1],r)}module.exports=r;
},{}],"X+GC":[function(require,module,exports) {
"use strict";function t(t){for(var r=t.split("/"),e=0;e<r.length;e++)if("+"!==r[e]){if("#"===r[e])return e===r.length-1;if(-1!==r[e].indexOf("+")||-1!==r[e].indexOf("#"))return!1}return!0}function r(r){if(0===r.length)return"empty_topic_list";for(var e=0;e<r.length;e++)if(!t(r[e]))return r[e];return null}module.exports={validateTopics:r};
},{}],"8hNv":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=require("events"),n=require("./store"),s=require("mqtt-packet"),r=require("readable-stream").Writable,c=require("inherits"),a=require("reinterval"),p=require("./validations"),u=require("xtend"),h=e.setImmediate||function(e){t.nextTick(e)},d={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},l={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function g(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function m(e,t,i){e.emit("packetsend",t),!s.writeToStream(t,e.stream,e.options)&&i?e.stream.once("drain",i):i&&i()}function f(e){e&&Object.keys(e).forEach(function(t){"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})}function b(e){e&&Object.keys(e).forEach(function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})}function k(e,t,i,o){e.outgoingStore.put(t,function(n){if(n)return i&&i(n);o(),m(e,t,i)})}function v(){}function _(e,t){var i,s=this;if(!(this instanceof _))return new _(e,t);for(i in this.options=t||{},d)void 0===this.options[i]?this.options[i]=d[i]:this.options[i]=t[i];this.options.clientId="string"==typeof t.clientId?t.clientId:g(),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new n,this.incomingStore=t.incomingStore||new n,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",function(){var e=this.queue;!function t(){var i,o=e.shift();o&&(i=o.packet,s._sendPacket(i,function(e){o.cb&&o.cb(e),t()}))}()}),this.on("close",function(){null!==s.pingTimer&&(s.pingTimer.clear(),s.pingTimer=null)}),this.on("close",this._setupReconnect),o.EventEmitter.call(this),this._setupStream()}c(_,o.EventEmitter),_.prototype._setupStream=function(){var e,o=this,n=new r,c=s.parser(this.options),a=null,p=[];function h(){if(p.length)t.nextTick(d);else{var e=a;a=null,e()}}function d(){var e=p.shift();if(e)o._handlePacket(e,h);else{var t=a;a=null,t&&t()}}if(this._clearReconnect(),this.stream=this.streamBuilder(this),c.on("packet",function(e){p.push(e)}),n._write=function(e,t,i){a=i,c.parse(e),d()},this.stream.pipe(n),this.stream.on("error",v),this.stream.on("close",function(){b(o.outgoing),o.emit("close")}),(e=Object.create(this.options)).cmd="connect",m(this,e),c.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===i(this.options.authPacket))m(this,u({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){o._cleanUp(!0)},this.options.connectTimeout)},_.prototype._handlePacket=function(e,t){var i=this.options;if(5===i.protocolVersion&&i.properties&&i.properties.maximumPacketSize&&i.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},_.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},_.prototype.publish=function(e,t,i,o){var n,s=this.options;"function"==typeof i&&(o=i,i=null);if(i=u({qos:0,retain:!1,dup:!1},i),this._checkDisconnecting(o))return this;switch(n={cmd:"publish",topic:e,payload:t,qos:i.qos,retain:i.retain,messageId:this._nextId(),dup:i.dup},5===s.protocolVersion&&(n.properties=i.properties,(!s.properties&&n.properties&&n.properties.topicAlias||i.properties&&s.properties&&(i.properties.topicAlias&&s.properties.topicAliasMaximum&&i.properties.topicAlias>s.properties.topicAliasMaximum||!s.properties.topicAliasMaximum&&i.properties.topicAlias))&&delete n.properties.topicAlias),i.qos){case 1:case 2:this.outgoing[n.messageId]={volatile:!1,cb:o||v},this._storeProcessing?(this._packetIdsDuringStoreProcessing[n.messageId]=!1,this._storePacket(n,void 0,i.cbStorePut)):this._sendPacket(n,void 0,i.cbStorePut);break;default:this._storeProcessing?this._storePacket(n,o,i.cbStorePut):this._sendPacket(n,o,i.cbStorePut)}return this},_.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=arguments[i];var o,n=[],s=t.shift(),r=s.resubscribe,c=t.pop()||v,a=t.pop(),d=this,l=this.options.protocolVersion;if(delete s.resubscribe,"string"==typeof s&&(s=[s]),"function"!=typeof c&&(a=c,c=v),null!==(o=p.validateTopics(s)))return h(c,new Error("Invalid topic "+o)),this;if(this._checkDisconnecting(c))return this;var g={qos:0};if(5===l&&(g.nl=!1,g.rap=!1,g.rh=0),a=u(g,a),Array.isArray(s)?s.forEach(function(e){if(!d._resubscribeTopics.hasOwnProperty(e)||d._resubscribeTopics[e].qos<a.qos||r){var t={topic:e,qos:a.qos};5===l&&(t.nl=a.nl,t.rap=a.rap,t.rh=a.rh,t.properties=a.properties),n.push(t)}}):Object.keys(s).forEach(function(e){if(!d._resubscribeTopics.hasOwnProperty(e)||d._resubscribeTopics[e].qos<s[e].qos||r){var t={topic:e,qos:s[e].qos};5===l&&(t.nl=s[e].nl,t.rap=s[e].rap,t.rh=s[e].rh,t.properties=a.properties),n.push(t)}}),e={cmd:"subscribe",subscriptions:n,qos:1,retain:!1,dup:!1,messageId:this._nextId()},a.properties&&(e.properties=a.properties),n.length){if(this.options.resubscribe){var m=[];n.forEach(function(e){if(d.options.reconnectPeriod>0){var t={qos:e.qos};5===l&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),d._resubscribeTopics[e.topic]=t,m.push(e.topic)}}),d.messageIdToTopic[e.messageId]=m}return this.outgoing[e.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var i=t.granted,o=0;o<i.length;o+=1)n[o].qos=i[o];c(e,n)}},this._sendPacket(e),this}c(null,[])},_.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,o=new Array(arguments.length),n=0;n<arguments.length;n++)o[n]=arguments[n];var s=o.shift(),r=o.pop()||v,c=o.pop();return"string"==typeof s&&(s=[s]),"function"!=typeof r&&(c=r,r=v),this._checkDisconnecting(r)?this:("string"==typeof s?e.unsubscriptions=[s]:"object"===i(s)&&s.length&&(e.unsubscriptions=s),this.options.resubscribe&&e.unsubscriptions.forEach(function(e){delete t._resubscribeTopics[e]}),"object"===i(c)&&c.properties&&(e.properties=c.properties),this.outgoing[e.messageId]={volatile:!0,cb:r},this._sendPacket(e),this)},_.prototype.end=function(){var e=this,t=arguments[0],o=arguments[1],n=arguments[2];function s(){e.disconnected=!0,e.incomingStore.close(function(){e.outgoingStore.close(function(){n&&n.apply(null,arguments),e.emit("end")})}),e._deferredReconnect&&e._deferredReconnect()}function r(){e._cleanUp(t,h.bind(null,s),o)}return null!=t&&"boolean"==typeof t||(n=o||v,o=t,t=!1,"object"!==i(o)&&(n=o,o=null,"function"!=typeof n&&(n=v))),"object"!==i(o)&&(n=o,o=null),n=n||v,this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,r,10)):r(),this)},_.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error("Message removed"))}),this},_.prototype.reconnect=function(e){var t=this,i=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new n,t.outgoingStore=t.options.outgoingStore||new n,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=i:i(),this},_.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},_.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod))},_.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},_.prototype._cleanUp=function(e,t){var i=arguments[2];if(t&&this.stream.on("close",t),e)0===this.options.reconnectPeriod&&this.options.clean&&f(this.outgoing),this.stream.destroy();else{var o=u({cmd:"disconnect"},i);this._sendPacket(o,h.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.stream.removeListener("close",t),t())},_.prototype._sendPacket=function(e,t,i){if(i=i||v,this.connected){switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void k(this,e,t,i);default:return void m(this,e,t)}switch(e.qos){case 2:case 1:k(this,e,t,i);break;case 0:default:m(this,e,t)}}else this._storePacket(e,t,i)},_.prototype._storePacket=function(e,t,i){i=i||v,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoingStore.put(e,function(e){if(e)return t&&t(e);i()})):t&&t(new Error("No connection to broker"))},_.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=a(function(){e._checkPing()},1e3*this.options.keepalive))},_.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},_.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},_.prototype._handlePingresp=function(){this.pingResp=!0},_.prototype._handleConnack=function(e){var t=this.options,i=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===i)this.reconnecting=!1,this._onConnect(e);else if(i>0){var o=new Error("Connection refused: "+l[i]);o.code=i,this.emit("error",o)}},_.prototype._handlePublish=function(e,t){t=void 0!==t?t:v;var i=e.topic.toString(),o=e.payload,n=e.qos,s=e.messageId,r=this,c=this.options,a=[0,16,128,131,135,144,145,151,153];switch(n){case 2:c.customHandleAcks(i,o,e,function(i,o){return i instanceof Error||(o=i,i=null),i?r.emit("error",i):-1===a.indexOf(o)?r.emit("error",new Error("Wrong reason code for pubrec")):void(o?r._sendPacket({cmd:"pubrec",messageId:s,reasonCode:o},t):r.incomingStore.put(e,function(){r._sendPacket({cmd:"pubrec",messageId:s},t)}))});break;case 1:c.customHandleAcks(i,o,e,function(n,c){return n instanceof Error||(c=n,n=null),n?r.emit("error",n):-1===a.indexOf(c)?r.emit("error",new Error("Wrong reason code for puback")):(c||r.emit("message",i,o,e),void r.handleMessage(e,function(e){if(e)return t&&t(e);r._sendPacket({cmd:"puback",messageId:s,reasonCode:c},t)}))});break;case 0:this.emit("message",i,o,e),this.handleMessage(e,t)}},_.prototype.handleMessage=function(e,t){t()},_.prototype._handleAck=function(e){var t,i=e.messageId,o=e.cmd,n=null,s=this.outgoing[i]?this.outgoing[i].cb:null,r=this;if(s){switch(o){case"pubcomp":case"puback":var c=e.reasonCode;c&&c>0&&16!==c&&((t=new Error("Publish error: "+l[c])).code=c,s(t,e)),delete this.outgoing[i],this.outgoingStore.del(e,s);break;case"pubrec":n={cmd:"pubrel",qos:2,messageId:i};var a=e.reasonCode;a&&a>0&&16!==a?((t=new Error("Publish error: "+l[a])).code=a,s(t,e)):this._sendPacket(n);break;case"suback":delete this.outgoing[i];for(var p=0;p<e.granted.length;p++)if(0!=(128&e.granted[p])){var u=this.messageIdToTopic[i];u&&u.forEach(function(e){delete r._resubscribeTopics[e]})}s(null,e);break;case"unsuback":delete this.outgoing[i],s(null);break;default:r.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},_.prototype._handlePubrel=function(e,t){t=void 0!==t?t:v;var i=e.messageId,o=this,n={cmd:"pubcomp",messageId:i};o.incomingStore.get(e,function(e,i){e?o._sendPacket(n,t):(o.emit("message",i.topic,i.payload,i),o.handleMessage(i,function(e){if(e)return t(e);o.incomingStore.del(i,v),o._sendPacket(n,t)}))})},_.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},_.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},_.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},_.prototype._resubscribe=function(e){var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var i=0;i<t.length;i++){var o={};o[t[i]]=this._resubscribeTopics[t[i]],o.resubscribe=!0,this.subscribe(o,{properties:o[t[i]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},_.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,function i(){var o=t.outgoingStore.createStream();function n(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function s(){o.destroy(),o=null,n()}t.once("close",s),o.on("error",function(e){n(),t.removeListener("close",s),t.emit("error",e)}),o.on("end",function(){var o=!0;for(var r in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[r]){o=!1;break}o?(n(),t.removeListener("close",s),t.emit("connect",e)):i()}),function e(){if(o){t._storeProcessing=!0;var i,n=o.read(1);n?t._packetIdsDuringStoreProcessing[n.messageId]?e():t.disconnecting||t.reconnectTimer?o.destroy&&o.destroy():(i=t.outgoing[n.messageId]?t.outgoing[n.messageId].cb:null,t.outgoing[n.messageId]={volatile:!1,cb:function(t,o){i&&i(t,o),e()}},t._packetIdsDuringStoreProcessing[n.messageId]=!0,t._sendPacket(n)):o.once("readable",e)}}()}()}},module.exports=_;
},{"events":"FRpO","./store":"Ba9l","mqtt-packet":"pBtw","readable-stream":"tzeh","inherits":"4Bm0","reinterval":"Ftzq","./validations":"X+GC","xtend":"K5Tb","process":"pBGv"}],"/oWq":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"5YsI":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"J6GP":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"bvhO":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"+00f":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"J6GP","./encode":"bvhO"}],"Mej7":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"/oWq","./util":"5YsI","querystring":"+00f"}],"cBg7":[function(require,module,exports) {
"use strict";var t=require("net");function o(o,e){var r,n;return e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",r=e.port,n=e.hostname,t.createConnection(r,n)}module.exports=o;
},{"net":"70rD"}],"AOSG":[function(require,module,exports) {
"use strict";var e=require("tls");function r(r,t){var o;function n(e){t.rejectUnauthorized&&r.emit("error",e),o.end()}return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,(o=e.connect(t)).on("secureConnect",function(){t.rejectUnauthorized&&!o.authorized?o.emit("error",new Error("TLS not authorized")):o.removeListener("error",n)}),o.on("error",n),o}module.exports=r;
},{"tls":"70rD"}],"l1Gb":[function(require,module,exports) {
function n(e,r){if(e&&r)return n(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){t[n]=e[n]}),t;function t(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var t=e.apply(this,n),o=n[n.length-1];return"function"==typeof t&&t!==o&&Object.keys(o).forEach(function(n){t[n]=o[n]}),t}}module.exports=n;
},{}],"t8WW":[function(require,module,exports) {
var e=require("wrappy");function r(e){var r=function(){return r.called?r.value:(r.called=!0,r.value=e.apply(this,arguments))};return r.called=!1,r}function n(e){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return r.onceError=n+" shouldn't be called more than once",r.called=!1,r}module.exports=e(r),module.exports.strict=e(n),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})});
},{"wrappy":"l1Gb"}],"Ka0c":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("once"),n=function(){},o=function(e){return e.setHeader&&"function"==typeof e.abort},t=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},i=function(l,s,c){if("function"==typeof s)return i(l,null,s);s||(s={}),c=r(c||n);var a=l._writableState,u=l._readableState,d=s.readable||!1!==s.readable&&l.readable,f=s.writable||!1!==s.writable&&l.writable,m=!1,v=function(){l.writable||b()},b=function(){f=!1,d||c.call(l)},L=function(){d=!1,f||c.call(l)},q=function(e){c.call(l,e?new Error("exited with error code: "+e):null)},w=function(e){c.call(l,e)},p=function(){e.nextTick(h)},h=function(){if(!m)return(!d||u&&u.ended&&!u.destroyed)&&(!f||a&&a.ended&&!a.destroyed)?void 0:c.call(l,new Error("premature close"))},y=function(){l.req.on("finish",b)};return o(l)?(l.on("complete",b),l.on("abort",p),l.req?y():l.on("request",y)):f&&!a&&(l.on("end",v),l.on("close",v)),t(l)&&l.on("exit",q),l.on("end",L),l.on("finish",b),!1!==s.error&&l.on("error",w),l.on("close",p),function(){m=!0,l.removeListener("complete",b),l.removeListener("abort",p),l.removeListener("request",y),l.req&&l.req.removeListener("finish",b),l.removeListener("end",v),l.removeListener("close",v),l.removeListener("finish",b),l.removeListener("exit",q),l.removeListener("end",L),l.removeListener("error",w),l.removeListener("close",p)}};module.exports=i;
},{"once":"t8WW","process":"pBGv"}],"Yluq":[function(require,module,exports) {
function e(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(r(t)):null}function r(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}module.exports=e;
},{}],"cz/W":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,e=require("process"),i=require("readable-stream"),r=require("end-of-stream"),n=require("inherits"),s=require("stream-shift"),o=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),a=function(t,e){t._corked?t.once("uncork",e):e()},d=function(t,e){t._autoDestroy&&t.destroy(e)},h=function(t,e){return function(i){i?d(t,"premature close"===i.message?null:i):e&&!t._ended&&t.end()}},l=function(t,e){return t?t._writableState&&t._writableState.finished?e():t._writableState?t.end(e):(t.end(),void e()):e()},u=function(t){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},_=function(t,e,r){if(!(this instanceof _))return new _(t,e,r);i.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};n(_,i.Duplex),_.obj=function(t,e,i){return i||(i={}),i.objectMode=!0,i.highWaterMark=16,new _(t,e,i)},_.prototype.cork=function(){1==++this._corked&&this.emit("cork")},_.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},_.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed)t&&t.destroy&&t.destroy();else if(null!==t&&!1!==t){var i=this,n=r(t,{writable:!0,readable:!1},h(this,this._forwardEnd)),s=function(){var t=i._ondrain;i._ondrain=null,t&&t()};this._unwrite&&e.nextTick(s),this._writable=t,this._writable.on("drain",s),this._unwrite=function(){i._writable.removeListener("drain",s),n()},this.uncork()}else this.end()},_.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed)t&&t.destroy&&t.destroy();else{if(null===t||!1===t)return this.push(null),void this.resume();var e=this,i=r(t,{writable:!1,readable:!0},h(this)),n=function(){e._forward()},s=function(){e.push(null)};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:u(t),this._readable2.on("readable",n),this._readable2.on("end",s),this._unread=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",s),i()},this._forward()}},_.prototype._read=function(){this._drained=!0,this._forward()},_.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var t;for(this._forwarding=!0;this._drained&&null!==(t=s(this._readable2));)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}},_.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var i=this;e.nextTick(function(){i._destroy(t)})}},_.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},_.prototype._write=function(t,e,i){return this.destroyed?i():this._corked?a(this,this._write.bind(this,t,e,i)):t===o?this._finish(i):this._writable?void(!1===this._writable.write(t)?this._ondrain=i:i()):i()},_.prototype._finish=function(t){var e=this;this.emit("preend"),a(this,function(){l(e._forwardEnd&&e._writable,function(){!1===e._writableState.prefinished&&(e._writableState.prefinished=!0),e.emit("prefinish"),a(e,t)})})},_.prototype.end=function(t,e,r){return"function"==typeof t?this.end(null,null,t):"function"==typeof e?this.end(t,null,e):(this._ended=!0,t&&this.write(t),this._writableState.ending||this.write(o),i.Writable.prototype.end.call(this,r))},module.exports=_;
},{"readable-stream":"tzeh","end-of-stream":"Ka0c","inherits":"4Bm0","stream-shift":"Yluq","buffer":"dskh","process":"pBGv"}],"5sRU":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var o,t,r,n=require("buffer").Buffer,e=require("process"),s=require("readable-stream").Transform,c=require("duplexify");function f(){var t=new s;return t._write=function(t,r,n){o.send({data:t.buffer,success:function(){n()},fail:function(o){n(new Error(o))}})},t._flush=function(t){o.close({success:function(){t()}})},t}function u(o){o.hostname||(o.hostname="localhost"),o.path||(o.path="/"),o.wsOptions||(o.wsOptions={})}function a(o,t){var r="wxs"===o.protocol?"wss":"ws",n=r+"://"+o.hostname+o.path;return o.port&&80!==o.port&&443!==o.port&&(n=r+"://"+o.hostname+":"+o.port+o.path),"function"==typeof o.transformWsUrl&&(n=o.transformWsUrl(n,o,t)),n}function i(){o.onOpen(function(){r.setReadable(t),r.setWritable(t),r.emit("connect")}),o.onMessage(function(o){var r=o.data;r=r instanceof ArrayBuffer?n.from(r):n.from(r,"utf8"),t.push(r)}),o.onClose(function(){r.end(),r.destroy()}),o.onError(function(o){r.destroy(new Error(o.errMsg))})}function l(n,s){if(s.hostname=s.hostname||s.host,!s.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===s.protocolId&&3===s.protocolVersion?"mqttv3.1":"mqtt";u(s);var p=a(s,n);o=wx.connectSocket({url:p,protocols:l}),t=f(),(r=c.obj())._destroy=function(t,r){o.close({success:function(){r&&r(t)}})};var d=r.destroy;return r.destroy=function(){r.destroy=d;var t=this;e.nextTick(function(){o.close({fail:function(){t._destroy(new Error)}})})}.bind(r),i(),r}module.exports=l;
},{"readable-stream":"tzeh","duplexify":"cz/W","buffer":"dskh","process":"pBGv"}],"W5Uz":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t,o,e,r=require("buffer").Buffer,n=require("readable-stream").Transform,s=require("duplexify"),a=require("base64-js"),f=!1;function u(){var o=new n;return o._write=function(o,e,r){t.sendSocketMessage({data:o.buffer,success:function(){r()},fail:function(){r(new Error)}})},o._flush=function(o){t.closeSocket({success:function(){o()}})},o}function c(t){t.hostname||(t.hostname="localhost"),t.path||(t.path="/"),t.wsOptions||(t.wsOptions={})}function i(t,o){var e="alis"===t.protocol?"wss":"ws",r=e+"://"+t.hostname+t.path;return t.port&&80!==t.port&&443!==t.port&&(r=e+"://"+t.hostname+":"+t.port+t.path),"function"==typeof t.transformWsUrl&&(r=t.transformWsUrl(r,t,o)),r}function l(){f||(f=!0,t.onSocketOpen(function(){e.setReadable(o),e.setWritable(o),e.emit("connect")}),t.onSocketMessage(function(t){if("string"==typeof t.data){var e=a.toByteArray(t.data),n=r.from(e);o.push(n)}else{var s=new FileReader;s.addEventListener("load",function(){var t=s.result;t=t instanceof ArrayBuffer?r.from(t):r.from(t,"utf8"),o.push(t)}),s.readAsArrayBuffer(t.data)}}),t.onSocketClose(function(){e.end(),e.destroy()}),t.onSocketError(function(t){e.destroy(t)}))}function p(r,n){if(n.hostname=n.hostname||n.host,!n.hostname)throw new Error("Could not determine host. Specify host manually.");var a="MQIsdp"===n.protocolId&&3===n.protocolVersion?"mqttv3.1":"mqtt";c(n);var f=i(n,r);return(t=n.my).connectSocket({url:f,protocols:a}),o=u(),e=s.obj(),l(),e}module.exports=p;
},{"readable-stream":"tzeh","duplexify":"cz/W","base64-js":"yh9p","buffer":"dskh"}],"aUcY":[function(require,module,exports) {
var e=null;"undefined"!=typeof WebSocket?e=WebSocket:"undefined"!=typeof MozWebSocket?e=MozWebSocket:"undefined"!=typeof window&&(e=window.WebSocket||window.MozWebSocket),module.exports=e;
},{}],"Tc1+":[function(require,module,exports) {

var process = require("process");
var global = arguments[3];
var e=require("process"),r=arguments[3],o=require("readable-stream").Transform,t=require("duplexify"),n=require("ws"),f=require("safe-buffer").Buffer;function i(e,r,t){var n=new o({objectMode:e.objectMode});return n._write=r,n._flush=t,n}function u(o,u,a){var c,s,d="browser"===e.title,y=!!r.WebSocket,b=d?function e(r,o,t){if(s.bufferedAmount>v)return void setTimeout(e,p,r,o,t);m&&"string"==typeof r&&(r=f.from(r,"utf8"));try{s.send(r)}catch(n){return t(n)}t()}:function(e,r,o){if(s.readyState!==s.OPEN)return void o();m&&"string"==typeof e&&(e=f.from(e,"utf8"));s.send(e,o)};u&&!Array.isArray(u)&&"object"==typeof u&&(a=u,u=null,("string"==typeof a.protocol||Array.isArray(a.protocol))&&(u=a.protocol)),a||(a={}),void 0===a.objectMode&&(a.objectMode=!(!0===a.binary||void 0===a.binary));var l=i(a,b,function(e){s.close(),e()});a.objectMode||(l._writev=w);var v=a.browserBufferSize||524288,p=a.browserBufferTimeout||1e3;"object"==typeof o?s=o:(s=y&&d?new n(o,u):new n(o,u,a)).binaryType="arraybuffer",s.readyState===s.OPEN?c=l:(c=c=t(void 0,void 0,a),a.objectMode||(c._writev=w),s.onopen=function(){c.setReadable(l),c.setWritable(l),c.emit("connect")}),c.socket=s,s.onclose=function(){c.end(),c.destroy()},s.onerror=function(e){c.destroy(e)},s.onmessage=function(e){var r=e.data;r=r instanceof ArrayBuffer?f.from(r):f.from(r,"utf8");l.push(r)},l.on("close",function(){s.close()});var m=!a.objectMode;function w(e,r){for(var o=new Array(e.length),t=0;t<e.length;t++)"string"==typeof e[t].chunk?o[t]=f.from(e[t],"utf8"):o[t]=e[t].chunk;this._write(f.concat(o),"binary",r)}return c}module.exports=u;
},{"readable-stream":"tzeh","duplexify":"cz/W","ws":"aUcY","safe-buffer":"38Wu","process":"pBGv"}],"V+7O":[function(require,module,exports) {
var process = require("process");
var o=require("process"),t=require("websocket-stream"),r=require("url"),e=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],n="browser"===o.title;function s(o,t){var r=o.protocol+"://"+o.hostname+":"+o.port+o.path;return"function"==typeof o.transformWsUrl&&(r=o.transformWsUrl(r,o,t)),r}function p(o){o.hostname||(o.hostname="localhost"),o.port||("wss"===o.protocol?o.port=443:o.port=80),o.path||(o.path="/"),o.wsOptions||(o.wsOptions={}),n||"wss"!==o.protocol||e.forEach(function(t){o.hasOwnProperty(t)&&!o.wsOptions.hasOwnProperty(t)&&(o.wsOptions[t]=o[t])})}function a(o,r){var e="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";p(r);var n=s(r,o);return t(n,[e],r.wsOptions)}function i(o,t){return a(o,t)}function c(o,t){if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var e=r.parse(document.URL);t.hostname=e.hostname,t.port||(t.port=e.port)}return a(o,t)}module.exports=n?c:i;
},{"websocket-stream":"Tc1+","url":"Mej7","process":"pBGv"}],"dnTl":[function(require,module,exports) {
var process = require("process");
var o=require("process");function r(o){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}var e=require("../client"),t=require("../store"),n=require("url"),c=require("xtend"),s={};function l(o){var r;o.auth&&((r=o.auth.match(/^(.+):(.+)$/))?(o.username=r[1],o.password=r[2]):o.username=o.auth)}function i(o,t){if("object"!==r(o)||t||(t=o,o=null),t=t||{},o){var i=n.parse(o,!0);if(null!=i.port&&(i.port=Number(i.port)),null===(t=c(i,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(l(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!s[t.protocol]){var u=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(o,r){return(!u||r%2!=0)&&"function"==typeof s[o]})[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return t.protocol&&(t.defaultProtocol=t.protocol),new e(function(o){return t.servers&&(o._reconnectCount&&o._reconnectCount!==t.servers.length||(o._reconnectCount=0),t.host=t.servers[o._reconnectCount].host,t.port=t.servers[o._reconnectCount].port,t.protocol=t.servers[o._reconnectCount].protocol?t.servers[o._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,o._reconnectCount++),s[t.protocol](o,t)},t)}"browser"!==o.title?(s.mqtt=require("./tcp"),s.tcp=require("./tcp"),s.ssl=require("./tls"),s.tls=require("./tls"),s.mqtts=require("./tls")):(s.wx=require("./wx"),s.wxs=require("./wx"),s.ali=require("./ali"),s.alis=require("./ali")),s.ws=require("./ws"),s.wss=require("./ws"),module.exports=i,module.exports.connect=i,module.exports.MqttClient=e,module.exports.Store=t;
},{"../client":"8hNv","../store":"Ba9l","url":"Mej7","xtend":"K5Tb","./tcp":"cBg7","./tls":"AOSG","./wx":"5sRU","./ali":"W5Uz","./ws":"V+7O","process":"pBGv"}],"KfqQ":[function(require,module,exports) {
"use strict";var n=require("mqtt"),o=null;function e(n,e,t){o.publish(n,e?JSON.stringify(e):e,t)}function t(n){n&&console.log("MQTT Error:",n)}function i(n){o.subscribe(n,t)}function r(e,t,i,r){return(o=(0,n.connect)(e,{clientId:t})).on("error",function(n){o.options.reconnectPeriod=0,console.log("mqtt init err",n),alert("failed.")}),o.on("connect",i),o.on("message",r),o}module.exports={publish:e,subscribe:i,init:r};
},{"mqtt":"dnTl"}],"epB2":[function(require,module,exports) {
"use strict";var e=require("./ui_dom_elts.js"),t=require("./randgen.js"),r=require("./domapi.js"),n=require("./ui_events.js"),o=require("./ui_styling.js"),s=require("./iconManager.js"),a=require("./commands.js"),i=require("./request.js"),u=c(require("./mqttUtils.js"));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;var t=l();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}}return r.default=e,t&&t.set(e,r),r}function d(e,t){return f(e)||g(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,s=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,s=u}finally{try{n||null==i.return||i.return()}finally{if(o)throw s}}return r}}function f(e){if(Array.isArray(e))return e}function v(){return(0,e.drawRooms)(rooms,w.currentRoom)}function p(){return(0,e.drawUsers)(w.userName,users,o.userColors)}function b(){return(0,e.drawMessages)(messagesLog[w.currentRoom],h)}var h=function(e){return o.userColors[Array.from(users).indexOf(e)]},y=50,w={userName:"NoName",currentRoom:"main"};function A(t){if("Enter"==t.code){var r=e.dom.input.value,n={author:w.userName,text:r};u.publish("rooms/".concat(w.currentRoom,"/newtext"),n,{qos:1,retain:!1}),e.dom.input.value=""}}function E(e,t){var r=e.match(new RegExp("^rooms/([^/]+)/(.+)$"));if(r){var o=r[1],s=rooms.size;if(rooms.add(o),s<rooms.size&&n.globEvents.emit("channelAdded"),0==t.length)return;var a=JSON.parse(t.toString());if("newtext"==r[2]){var i=users.size;users.add(a.author),i<users.size&&n.globEvents.emit("userAdded"),j(o,a),n.globEvents.emit(a.author!=w.userName?"messageArrived":"messageEmitted",o,a)}}(r=e.match(new RegExp("^users/([^/]+)/(.+)$")))&&"logout"==r[2]&&(users.delete(r[1]),p())}function j(e,t){null==messagesLog[e]&&(messagesLog[e]=[]),messagesLog[e].length>=y&&messagesLog[e].splice(0,1),messagesLog[e].push([t.author,t.text])}function S(){u.publish("users/".concat(w.userName,"/hello"),{ipAddress:ipAddr}),u.subscribe("rooms/#"),u.subscribe("users/#"),console.log("init finished.")}function R(e){var t=!0,r=!1,n=void 0;try{for(var o,s=e.rooms[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var a=o.value;rooms.add(a)}}catch(f){r=!0,n=f}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}var i=!0,u=!1,l=void 0;try{for(var c,d=e.users[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var m=c.value;users.add(m)}}catch(f){u=!0,l=f}finally{try{i||null==d.return||d.return()}finally{if(u)throw l}}for(var g in e.messages)messagesLog[g]=e.messages[g];v(),p(),b()}window.app={init:function(){(0,e.init)(),e.dom.input.addEventListener("keydown",A);var o=prompt("challenge:")||!1,s=d(o?(0,t.makeRandomPair)(o):[!1,!1],2),l=s[0],c=s[1];o=void 0,document.getElementById("title").textContent="ChaTT-".concat(l?l.slice(3,5):"unprotected"),window.onresize=r.recalcLayout,(0,r.recalcLayout)(),w.userName=prompt("Nick name"),(0,a.init)(w.userName),n.globEvents.init("messageArrived"),n.globEvents.init("messageEmitted"),n.globEvents.init("userAdded"),n.globEvents.init("channelAdded"),n.globEvents.on("userAdded",p),n.globEvents.on("channelAdded",v),n.globEvents.on(["messageArrived","messageEmitted"],function(e,t){e==w.currentRoom&&b()});var m=d(document.location.href.match(/^https/)?["wss",9001]:["ws",9001],2),g=m[0],f=m[1];u.init(l?"".concat(g,"://").concat(l,":").concat(c,"@").concat(host,":").concat(f):"".concat(g,"://").concat(host,":").concat(f),w.userName,S,E),w.bellSound=new Audio("/static/snd/bell.mp3"),w.bellSound.volume=0,(0,i.get)("/data/lastinfo").then(R)},enableAudio:function(){0==w.bellSound.volume?(s.iconManager.changeState("sound_icon","on"),w.bellSound.volume=1,null==w.unlockedAudio&&(w.bellSound.play(),n.globEvents.on("messageArrived",function(){return w.bellSound.play()}),w.unlockedAudio=!0)):(s.iconManager.changeState("sound_icon","off"),w.bellSound.volume=0)},createRoom:function(){var e=prompt("Room name");e.match(/^[a-zA-Z0-9-]+$/)?u.publish("rooms/".concat(e.replace(/[+]/g,"&gt;"),"/new")):alert("Invalid room name!")},userListClicked:function(t){e.dom.input.value+="@".concat(t.childNodes[0].data,": "),e.dom.input.focus()},roomListClicked:function(t){var r=t.textContent;if(w.currentRoom!=r){var n=w.currentRoom;w.currentRoom=r,null==messagesLog[r]&&(messagesLog[r]=[]),(0,e.selectRoom)(n,r),b()}return event.stopPropagation(),!0}};
},{"./ui_dom_elts.js":"50pF","./randgen.js":"oQx8","./domapi.js":"phBu","./ui_events.js":"/PZ5","./ui_styling.js":"jMoj","./iconManager.js":"WYMN","./commands.js":"TnH5","./request.js":"zMBz","./mqttUtils.js":"KfqQ"}]},{},["epB2"], null)